<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 6: Agent Orchestration - Agentic AI & LLM Agents</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/agentic-ai/agentic-ai.css') }}">
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous">
    <!-- Prism.js for code syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>


</head>
<body>
    <header class="azbn-header">
        <nav class="azbn-nav">
            <div class="azbn-container">
                <a href="/tutorials/agentic-ai" class="course-link">
                    <span>Agentic AI & LLM Agents</span>
                </a>
                <div class="azbn-links">
                    <a href="/">Home</a>
                    <a href="/#about">About</a>
                    <a href="/tutorials/">Tutorials</a>
                    <a href="/#projects">Projects</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div class="tutorial-header">
            <div class="azbn-container">
                <h1 class="chapter-title">Chapter 6: Agent Orchestration</h1>
                <p class="chapter-subtitle">Coordinating Agents</p>
                
                <div class="chapter-progress">
                    <div class="chapter-progress-fill" data-progress="75"></div>
                </div>
                
                <div class="chapter-navigation">
                    <a href="/tutorials/agentic-ai/chapter1" class="chapter-nav-btn ">Chapter 1</a>
                    <a href="/tutorials/agentic-ai/chapter2" class="chapter-nav-btn ">Chapter 2</a>
                    <a href="/tutorials/agentic-ai/chapter3" class="chapter-nav-btn ">Chapter 3</a>
                    <a href="/tutorials/agentic-ai/chapter4" class="chapter-nav-btn ">Chapter 4</a>
                    <a href="/tutorials/agentic-ai/chapter5" class="chapter-nav-btn ">Chapter 5</a>
                    <a href="/tutorials/agentic-ai/chapter6" class="chapter-nav-btn active">Chapter 6</a>
                    <a href="/tutorials/agentic-ai/chapter7" class="chapter-nav-btn ">Chapter 7</a>
                    <a href="/tutorials/agentic-ai/chapter8" class="chapter-nav-btn ">Chapter 8</a>
                </div>
                
                <div class="section-progress">
                    <div class="section-progress-fill" data-progress="14.3"></div>
                </div>
                
                <div class="section-nav">
                    <button class="section-nav-btn azbn-btn active" data-section="overview">Overview</button>
                    <button class="section-nav-btn azbn-btn" data-section="concepts">Key Concepts</button>
                    <button class="section-nav-btn azbn-btn" data-section="formulas">Formulas</button>
                    <button class="section-nav-btn azbn-btn" data-section="examples">Examples</button>
                    <button class="section-nav-btn azbn-btn" data-section="implementation">Implementation</button>
                    <button class="section-nav-btn azbn-btn" data-section="applications">Applications</button>
                    <button class="section-nav-btn azbn-btn" data-section="quiz">Quiz</button>
                </div>
            </div>
        </div>

        <section class="azbn-section">
            <div class="azbn-container">
                <div class="learning-objectives-box">
                    <h2>Learning Objectives</h2>
                    <ul>
                        <li>Understand agent orchestration fundamentals</li>
                        <li>Master the mathematical foundations</li>
                        <li>Learn practical implementation</li>
                        <li>Apply knowledge through examples</li>
                        <li>Recognize real-world applications</li>
                    </ul>
                </div>

                <main class="chapter-main-content">
                    <div id="overview" class="content-section active">
                        <h2>Agent Orchestration</h2>
                        
                        <div class="explanation-box">
                            <h3>Introduction</h3>
                            <p><strong>Coordinating Agents</strong></p>
                            <p>This chapter provides comprehensive coverage of agent orchestration, including detailed explanations, mathematical formulations, code implementations, and real-world examples.</p>
                        </div>

                        <div class="example-box">
                            <h4>üìö Why This Matters</h4>
                            <p>Understanding agent orchestration is crucial for mastering modern AI systems. This chapter breaks down complex concepts into digestible explanations with step-by-step examples.</p>
                        </div>
                    </div>

                    <div id="concepts" class="content-section">
                        <h2>Key Concepts</h2>
                        
                        <div class="explanation-box">
                            <h3>Agent Orchestration</h3>
                            <p><strong>What is orchestration:</strong> Coordinating multiple agents to work together efficiently toward a common goal.</p>
                            
                            <p><strong>Orchestration patterns:</strong></p>
                            <ul>
                                <li><strong>Sequential:</strong> Agents work one after another (pipeline)</li>
                                <li><strong>Parallel:</strong> Agents work simultaneously on different tasks</li>
                                <li><strong>Hierarchical:</strong> Manager agents coordinate worker agents</li>
                                <li><strong>Dynamic:</strong> Agent selection based on task requirements</li>
                            </ul>
                        </div>
                        
                        <div class="explanation-box">
                            <h3>Orchestration Components</h3>
                            <p><strong>Task decomposition:</strong> Break complex task into subtasks</p>
                            <p><strong>Agent selection:</strong> Choose appropriate agent for each subtask</p>
                            <p><strong>Workflow management:</strong> Define execution order and dependencies</p>
                            <p><strong>State management:</strong> Track progress and intermediate results</p>
                            <p><strong>Error handling:</strong> Handle failures and retries</p>
                        </div>
                        
                        <div class="explanation-box">
                            <h3>Orchestration vs Multi-Agent</h3>
                            <p><strong>Orchestration:</strong> Focus on coordination and workflow management</p>
                            <p><strong>Multi-agent:</strong> Focus on agent communication and collaboration</p>
                            <p>Orchestration is often used within multi-agent systems to manage complex workflows.</p>
                        </div>
                    </div>

                    <div id="formulas" class="content-section">
                        <h2>Mathematical Formulations</h2>
                        
                        <div class="formula-box">
                            <h4>Task Decomposition</h4>
                            <div class="formula-display">
                                \[\text{Task} = \{T_1, T_2, \ldots, T_n\} \text{ where } T_i \text{ are subtasks}\]
                            </div>
                            <div class="formula-explanation">
                                <p>Complex task is decomposed into n subtasks. Each subtask can be assigned to appropriate agent.</p>
                            </div>
                        </div>
                        
                        <div class="formula-box">
                            <h4>Agent Selection</h4>
                            <div class="formula-display">
                                \[\text{Agent}(T_i) = \arg\max_{A_j} \text{score}(A_j, T_i)\]
                            </div>
                            <div class="formula-explanation">
                                <h5>Where:</h5>
                                <ul>
                                    <li>\(T_i\): Subtask</li>
                                    <li>\(A_j\): Available agents</li>
                                    <li>\(\text{score}\): Agent capability score for task</li>
                                    <li>Select agent with highest score for task</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="formula-box">
                            <h4>Workflow Execution Time</h4>
                            <div class="formula-display">
                                \[T_{\text{total}} = \max(\text{sequential path}) + \sum(\text{parallel overhead})\]
                            </div>
                            <div class="formula-explanation">
                                <p>Total execution time is determined by longest sequential path plus overhead from parallel coordination.</p>
                            </div>
                        </div>
                    </div>

                    <div id="examples" class="content-section">
                        <h2>Detailed Examples</h2>
                        
                        <div class="example-box">
                            <h4>Example: Sequential Orchestration</h4>
                            <p><strong>Task:</strong> Generate and review a report</p>
                            
                            <p><strong>Step 1:</strong> Orchestrator decomposes task</p>
                            <ul>
                                <li>Subtask 1: Research topic (Researcher agent)</li>
                                <li>Subtask 2: Write report (Writer agent)</li>
                                <li>Subtask 3: Review report (Reviewer agent)</li>
                            </ul>
                            
                            <p><strong>Step 2:</strong> Execute sequentially</p>
                            <ul>
                                <li>Researcher ‚Üí outputs research findings</li>
                                <li>Writer (receives findings) ‚Üí outputs draft</li>
                                <li>Reviewer (receives draft) ‚Üí outputs final report</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <h4>Example: Parallel Orchestration</h4>
                            <p><strong>Task:</strong> Analyze multiple data sources</p>
                            
                            <p><strong>Orchestration:</strong></p>
                            <ul>
                                <li>Agent 1: Analyze dataset A (parallel)</li>
                                <li>Agent 2: Analyze dataset B (parallel)</li>
                                <li>Agent 3: Analyze dataset C (parallel)</li>
                                <li>Synthesizer: Combine all results (after parallel tasks complete)</li>
                            </ul>
                            
                            <p><strong>Result:</strong> Faster execution than sequential processing.</p>
                        </div>
                    </div>

                    <div id="implementation" class="content-section">
                        <h2>Implementation</h2>
                        
                        <div class="code-box">
                            <h4>Orchestrator with LangGraph</h4>
                            <pre><code class="language-python">from langgraph.graph import StateGraph, END
from typing import TypedDict

class OrchestrationState(TypedDict):
    task: str
    subtasks: list
    results: dict
    current_step: int

def decompose_task(state):
    """Break task into subtasks"""
    task = state["task"]
    subtasks = [
        f"Research: {task}",
        f"Write: {task}",
        f"Review: {task}"
    ]
    return {"subtasks": subtasks, "current_step": 0}

def execute_subtask(state):
    """Execute current subtask"""
    step = state["current_step"]
    subtask = state["subtasks"][step]
    
    # Simulate agent execution
    result = f"Result for {subtask}"
    results = state.get("results", {})
    results[step] = result
    
    return {
        "results": results,
        "current_step": step + 1
    }

def should_continue(state):
    """Check if more subtasks remain"""
    if state["current_step"] < len(state["subtasks"]):
        return "execute"
    return END

# Build workflow
workflow = StateGraph(OrchestrationState)
workflow.add_node("decompose", decompose_task)
workflow.add_node("execute", execute_subtask)

workflow.set_entry_point("decompose")
workflow.add_edge("decompose", "execute")
workflow.add_conditional_edges("execute", should_continue)

app = workflow.compile()
result = app.invoke({"task": "Write report on AI"})</code></pre>
                        </div>
                    </div>

                    <div id="applications" class="content-section">
                        <h2>Real-World Applications</h2>
                        
                        <div class="explanation-box">
                            <h3>Orchestration Use Cases</h3>
                            <p><strong>Complex workflows:</strong></p>
                            <ul>
                                <li>Multi-step data processing pipelines</li>
                                <li>End-to-end content creation workflows</li>
                                <li>Software development automation</li>
                                <li>Business process automation</li>
                            </ul>
                            
                            <p><strong>Dynamic task routing:</strong></p>
                            <ul>
                                <li>Route tasks to best available agent</li>
                                <li>Load balancing across agents</li>
                                <li>Adaptive workflow based on results</li>
                            </ul>
                            
                            <p><strong>Error recovery:</strong></p>
                            <ul>
                                <li>Retry failed tasks with different agents</li>
                                <li>Fallback mechanisms</li>
                                <li>Graceful degradation</li>
                            </ul>
                        </div>
                    </div>

                    <div id="quiz" class="content-section">
                        <h2>Test Your Understanding</h2>
                        
                        <div class="quiz-container">
                            <div class="quiz-question">
                                <h3>Question 1: What is agent orchestration?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Coordinating multiple agents to work together efficiently toward a common goal</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Running a single agent faster</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Training agents</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Monitoring agent performance</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 2: What are the main orchestration patterns?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Sequential, Parallel, Hierarchical, and Dynamic</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Fast and Slow</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Centralized and Decentralized only</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Linear and Circular</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 3: Interview question: "How would you design an orchestration system for a complex multi-step task?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Decompose task into subtasks, select appropriate agents for each, define workflow with dependencies, manage state across steps, implement error handling and retries</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Use one agent for everything</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Randomly assign tasks</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) No orchestration needed</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 4: What is the difference between sequential and parallel orchestration?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Sequential executes agents one after another (pipeline), parallel executes agents simultaneously on different tasks</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Sequential is faster</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Parallel is always better</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) There's no difference</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 5: In the formula \(\text{Agent}(T_i) = \arg\max_{A_j} \text{score}(A_j, T_i)\), what does this represent?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Selecting the agent with the highest capability score for a given subtask</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Calculating the total number of agents</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Measuring agent performance</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Determining task complexity</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 6: What is task decomposition in orchestration?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Breaking a complex task into smaller, manageable subtasks that can be assigned to different agents</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Combining multiple tasks into one</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Deleting tasks</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Prioritizing tasks</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 7: Interview question: "How do you handle failures in an orchestrated workflow?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Implement retry logic with exponential backoff, use fallback agents, track failure points, implement circuit breakers, and provide graceful degradation</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Stop the entire workflow</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Ignore failures</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Restart from beginning</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 8: What is the workflow execution time formula \(T_{\text{total}} = \max(\text{sequential path}) + \sum(\text{parallel overhead})\) telling us?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Total time is determined by the longest sequential path plus coordination overhead from parallel execution</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Time is the sum of all agent times</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Time is the average of all times</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Time is independent of orchestration</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 9: What is hierarchical orchestration?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Manager agents coordinate worker agents in a tree-like structure</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) All agents are equal</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Agents work independently</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Only one agent at a time</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 10: Interview question: "How would you implement state management in an orchestrated workflow?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Use shared state store (database/cache), track intermediate results, maintain workflow context, implement state versioning, and ensure consistency across agents</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Each agent has separate state</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) No state management needed</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) State is stored in agent memory only</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 11: What is dynamic orchestration?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Agent selection and workflow adaptation based on task requirements and current system state</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Fixed workflow always</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Random agent selection</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Using only one agent type</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 12: What is the key difference between orchestration and multi-agent systems?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Orchestration focuses on coordination and workflow management, while multi-agent systems focus on agent communication and collaboration</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) They are the same thing</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Orchestration is simpler</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Multi-agent is always better</div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>
    </main>

    <footer style="background: #f8f9fa; padding: 2rem 0; margin-top: 3rem; border-top: 2px solid #5B7553;">
        <div class="azbn-container" style="text-align: center;">
            <button onclick="scrollToSectionNav()" class="azbn-btn" style="margin: 0.5rem;">
                ‚Üë Back to Section Navigation
            </button>
            <div style="margin-top: 1.5rem;">
                <a href="/tutorials/agentic-ai" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Back to Tutorial</a>
                <a href="/tutorials/agentic-ai/chapter5" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Chapter 5</a>
                <a href="/tutorials/agentic-ai/chapter7" class="azbn-btn" style="text-decoration: none; margin: 0.5rem;">Chapter 7 ‚Üí</a>
            </div>
        </div>
    </footer>
    
        <!-- KaTeX for math rendering -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='js/tutorials/agentic-ai/shared-tutorial.js') }}"></script>
    <script>
        function scrollToSectionNav() {
            const sectionNav = document.querySelector('.section-nav');
            if (sectionNav) {
                sectionNav.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        function checkAnswer(element, isCorrect) {
            element.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            if (isCorrect) {
                element.classList.add('correct');
                element.textContent += ' ‚úì Correct!';
            } else {
                element.classList.add('incorrect');
                element.textContent += ' ‚úó Incorrect';
                const correctOption = Array.from(element.parentNode.querySelectorAll('.quiz-option'))
                    .find(opt => {
                        const onclick = opt.getAttribute('onclick') || '';
                        return onclick.includes('true');
                    });
                if (correctOption && !correctOption.classList.contains('incorrect')) {
                    correctOption.classList.add('correct');
                    correctOption.textContent += ' ‚úì Correct Answer';
                }
            }
        }
            
// Initialize KaTeX rendering - ensure KaTeX is loaded first
        function initKaTeX() {
            if (typeof katex !== 'undefined' && typeof renderMathInElement !== 'undefined') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "\\[", right: "\\]", display: true},
                        {left: "$", right: "$", display: false},
                        {left: "\\(", right: "\\)", display: false}
                    ],
                    throwOnError: false
                });
            } else {
                // Retry if KaTeX not loaded yet
                setTimeout(initKaTeX, 100);
                return;
            }
            
            // Initialize Prism.js syntax highlighting
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        }
        
        // Wait for DOM and KaTeX to be ready
        if (document.readyState === 'loading') {
            document.addEventListener("DOMContentLoaded", initKaTeX);
        } else {
            // DOM already loaded, wait for KaTeX
            initKaTeX();
