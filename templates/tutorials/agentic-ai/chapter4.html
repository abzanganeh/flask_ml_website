<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 4: ReAct Framework - Agentic AI & LLM Agents</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/agentic-ai/agentic-ai.css') }}">
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous">
    <!-- Prism.js for code syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>


</head>
<body>
    <header class="azbn-header">
        <nav class="azbn-nav">
            <div class="azbn-container">
                <a href="/tutorials/agentic-ai" class="course-link">
                    <span>Agentic AI & LLM Agents</span>
                </a>
                <div class="azbn-links">
                    <a href="/">Home</a>
                    <a href="/#about">About</a>
                    <a href="/tutorials/">Tutorials</a>
                    <a href="/#projects">Projects</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div class="tutorial-header">
            <div class="azbn-container">
                <h1 class="chapter-title">Chapter 4: ReAct Framework</h1>
                <p class="chapter-subtitle">Reasoning + Acting</p>
                
                <div class="chapter-progress">
                    <div class="chapter-progress-fill" data-progress="50"></div>
                </div>
                
                <div class="chapter-navigation">
                    <a href="/tutorials/agentic-ai/chapter1" class="chapter-nav-btn ">Chapter 1</a>
                    <a href="/tutorials/agentic-ai/chapter2" class="chapter-nav-btn ">Chapter 2</a>
                    <a href="/tutorials/agentic-ai/chapter3" class="chapter-nav-btn ">Chapter 3</a>
                    <a href="/tutorials/agentic-ai/chapter4" class="chapter-nav-btn active">Chapter 4</a>
                    <a href="/tutorials/agentic-ai/chapter5" class="chapter-nav-btn ">Chapter 5</a>
                    <a href="/tutorials/agentic-ai/chapter6" class="chapter-nav-btn ">Chapter 6</a>
                    <a href="/tutorials/agentic-ai/chapter7" class="chapter-nav-btn ">Chapter 7</a>
                    <a href="/tutorials/agentic-ai/chapter8" class="chapter-nav-btn ">Chapter 8</a>
                </div>
                
                <div class="section-progress">
                    <div class="section-progress-fill" data-progress="14.3"></div>
                </div>
                
                <div class="section-nav">
                    <button class="section-nav-btn azbn-btn active" data-section="overview">Overview</button>
                    <button class="section-nav-btn azbn-btn" data-section="concepts">Key Concepts</button>
                    <button class="section-nav-btn azbn-btn" data-section="formulas">Formulas</button>
                    <button class="section-nav-btn azbn-btn" data-section="examples">Examples</button>
                    <button class="section-nav-btn azbn-btn" data-section="implementation">Implementation</button>
                    <button class="section-nav-btn azbn-btn" data-section="applications">Applications</button>
                    <button class="section-nav-btn azbn-btn" data-section="quiz">Quiz</button>
                </div>
            </div>
        </div>

        <section class="azbn-section">
            <div class="azbn-container">
                <div class="learning-objectives-box">
                    <h2>Learning Objectives</h2>
                    <ul>
                        <li>Understand react framework fundamentals</li>
                        <li>Master the mathematical foundations</li>
                        <li>Learn practical implementation</li>
                        <li>Apply knowledge through examples</li>
                        <li>Recognize real-world applications</li>
                    </ul>
                </div>

                <main class="chapter-main-content">
                    <div id="overview" class="content-section active">
                        <h2>ReAct Framework</h2>
                        
                        <div class="explanation-box">
                            <h3>What is ReAct?</h3>
                            <p><strong>ReAct (Reasoning + Acting) is a framework that combines reasoning and acting in language, allowing agents to think step-by-step and take actions based on their reasoning.</strong></p>
                            
                            <p><strong>ReAct solves a critical problem:</strong></p>
                            <ul>
                                <li><strong>Traditional agents:</strong> Act without explicit reasoning (black box decisions)</li>
                                <li><strong>ReAct agents:</strong> Think out loud, then act based on reasoning (transparent, better decisions)</li>
                                <li><strong>Key innovation:</strong> Interleaves reasoning and acting in a single loop</li>
                            </ul>
                        </div>

                        <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9; border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                            <h4 style="color: #0c4a6e; margin-bottom: 1.5rem; text-align: center;">ReAct Loop Visualization</h4>
                            
                            <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: 1.5rem;">
                                    <div style="text-align: center; flex: 1; min-width: 150px;">
                                        <div style="background: #fef3c7; border: 2px solid #f59e0b; border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem;">
                                            <p style="font-weight: 700; color: #92400e; margin: 0; font-size: 1.2rem;">üí≠</p>
                                        </div>
                                        <p style="font-weight: 600; color: #92400e; margin: 0;">Thought</p>
                                        <p style="font-size: 0.85rem; color: #92400e; margin: 0.3rem 0 0 0;">Reason about task</p>
                                    </div>
                                    
                                    <div style="font-size: 2rem; color: #0ea5e9; font-weight: bold;">‚Üí</div>
                                    
                                    <div style="text-align: center; flex: 1; min-width: 150px;">
                                        <div style="background: #fee2e2; border: 2px solid #ef4444; border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem;">
                                            <p style="font-weight: 700; color: #991b1b; margin: 0; font-size: 1.2rem;">‚ö°</p>
                                        </div>
                                        <p style="font-weight: 600; color: #991b1b; margin: 0;">Action</p>
                                        <p style="font-size: 0.85rem; color: #991b1b; margin: 0.3rem 0 0 0;">Execute tool</p>
                                    </div>
                                    
                                    <div style="font-size: 2rem; color: #0ea5e9; font-weight: bold;">‚Üí</div>
                                    
                                    <div style="text-align: center; flex: 1; min-width: 150px;">
                                        <div style="background: #dcfce7; border: 2px solid #22c55e; border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem;">
                                            <p style="font-weight: 700; color: #166534; margin: 0; font-size: 1.2rem;">üëÅÔ∏è</p>
                                        </div>
                                        <p style="font-weight: 600; color: #166534; margin: 0;">Observation</p>
                                        <p style="font-size: 0.85rem; color: #166534; margin: 0.3rem 0 0 0;">See result</p>
                                    </div>
                                </div>
                                
                                <div style="text-align: center; margin-top: 1.5rem;">
                                    <div style="display: inline-block; background: #f0f9ff; border: 2px dashed #0ea5e9; border-radius: 8px; padding: 1rem;">
                                        <p style="font-weight: 600; color: #0c4a6e; margin: 0; font-size: 0.9rem;">Loop continues until goal achieved</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="explanation-box">
                            <h4>The ReAct Loop</h4>
                            <p><strong>ReAct follows a simple but powerful pattern:</strong></p>
                            <ol>
                                <li><strong>Thought:</strong> Agent reasons about what to do next</li>
                                <li><strong>Action:</strong> Agent takes an action (tool call, API request, etc.)</li>
                                <li><strong>Observation:</strong> Agent observes the result</li>
                                <li><strong>Repeat:</strong> Use observation to inform next thought</li>
                            </ol>
                        </div>

                        <div class="example-box">
                            <h4>üìö Why ReAct Works</h4>
                            <p><strong>ReAct improves agent performance because:</strong></p>
                            <ul>
                                <li><strong>Explicit reasoning:</strong> Forces agent to think before acting</li>
                                <li><strong>Better decisions:</strong> Reasoning leads to better tool selection</li>
                                <li><strong>Transparency:</strong> You can see agent's thought process</li>
                                <li><strong>Error recovery:</strong> Agent can reason about failures and try alternatives</li>
                            </ul>
                        </div>
                    </div>

                    <div id="concepts" class="content-section">
                        <h2>Key Concepts</h2>
                        
                        <div class="explanation-box">
                            <h3>üîë The Three Components of ReAct</h3>
                            
                            <div class="example-box">
                                <h4>1. Thought (Reasoning)</h4>
                                <p><strong>The agent explicitly reasons about the task:</strong></p>
                                <ul>
                                    <li>Analyzes the current situation</li>
                                    <li>Considers what information is needed</li>
                                    <li>Decides what action to take</li>
                                    <li>Explains the reasoning in natural language</li>
                                </ul>
                                
                                <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; margin-top: 0.5rem; border-radius: 4px;">
                                    <p style="margin: 0; color: #92400e; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;"><strong>Example Thought:</strong> "I need to find the weather in New York. I should use the get_weather tool with city='New York'."</p>
                                </div>
                            </div>
                            
                            <div class="example-box">
                                <h4>2. Action (Tool Execution)</h4>
                                <p><strong>The agent takes a concrete action:</strong></p>
                                <ul>
                                    <li>Calls a tool or function</li>
                                    <li>Specifies parameters</li>
                                    <li>Executes the action</li>
                                </ul>
                                
                                <div style="background: #fee2e2; border-left: 4px solid #ef4444; padding: 1rem; margin-top: 0.5rem; border-radius: 4px;">
                                    <p style="margin: 0; color: #991b1b; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;"><strong>Example Action:</strong> Action: get_weather(city="New York")</p>
                                </div>
                            </div>
                            
                            <div class="example-box">
                                <h4>3. Observation (Result)</h4>
                                <p><strong>The agent observes the result:</strong></p>
                                <ul>
                                    <li>Receives tool output</li>
                                    <li>Processes the information</li>
                                    <li>Uses it to inform next thought</li>
                                </ul>
                                
                                <div style="background: #dcfce7; border-left: 4px solid #22c55e; padding: 1rem; margin-top: 0.5rem; border-radius: 4px;">
                                    <p style="margin: 0; color: #166534; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;"><strong>Example Observation:</strong> Observation: {"temperature": 72, "condition": "sunny"}</p>
                                </div>
                            </div>
                        </div>

                        <div class="explanation-box">
                            <h3>ReAct vs Other Approaches</h3>
                            
                            <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 2px solid #22c55e; border-radius: 12px; padding: 2rem; margin: 1.5rem 0;">
                                <h4 style="color: #14532d; margin-bottom: 1.5rem; text-align: center;">ReAct vs Other Frameworks</h4>
                                
                                <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: #f3f4f6;">
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Feature</th>
                                                <th style="padding: 0.8rem; text-align: center; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">ReAct</th>
                                                <th style="padding: 0.8rem; text-align: center; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Act-Only</th>
                                                <th style="padding: 0.8rem; text-align: center; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Think-Only</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Explicit Reasoning</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì Yes</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">‚úó No</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì Yes</td>
                                            </tr>
                                            <tr style="background: #f9fafb;">
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Tool Use</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì Yes</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì Yes</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">‚úó No</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Transparency</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì High</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">‚úó Low</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì High</td>
                                            </tr>
                                            <tr style="background: #f9fafb;">
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Error Recovery</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">‚úì Good</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">‚úó Poor</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">‚úó N/A</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="explanation-box">
                            <h3>üìù ReAct Prompt Format</h3>
                            <p><strong>ReAct uses a specific prompt format that interleaves thoughts, actions, and observations:</strong></p>
                            
                            <div class="code-box">
                                <h4>ReAct Prompt Structure</h4>
                                <pre><code class="language-python">Question: What's the weather in New York?

Thought: I need to find the weather in New York. I should use the get_weather tool.
Action: get_weather(city="New York")
Observation: {"temperature": 72, "condition": "sunny"}

Thought: I have the weather information. I can now answer the question.
Action: respond()
Observation: The weather in New York is 72¬∞F and sunny.

Final Answer: The weather in New York is 72¬∞F and sunny.</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="formulas" class="content-section">
                        <h2>Mathematical Formulations</h2>
                        
                        <div class="formula-box">
                            <h4>ReAct State Transition</h4>
                            
                            <div class="formula-display">
                                \[(\text{thought}_t, \text{action}_t, \text{observation}_t) \rightarrow (\text{thought}_{t+1}, \text{action}_{t+1}, \text{observation}_{t+1})\]
                            </div>
                            
                            <div class="formula-explanation">
                                <h5>ReAct loop transitions:</h5>
                                <ul>
                                    <li><strong>thought_t:</strong> Reasoning at step t</li>
                                    <li><strong>action_t:</strong> Action taken at step t</li>
                                    <li><strong>observation_t:</strong> Result observed at step t</li>
                                    <li><strong>‚Üí:</strong> Next step uses observation to inform thought</li>
                                </ul>
                            </div>
                        </div>

                        <div class="formula-box">
                            <h4>ReAct Decision Function</h4>
                            
                            <div class="formula-display">
                                \[\text{action}_t = \text{LLM}(\text{question}, \text{thought}_t, \text{history}_{<t}, \text{available\_tools})\]
                            </div>
                            
                            <div class="formula-explanation">
                                <h5>LLM decides action based on:</h5>
                                <ul>
                                    <li><strong>question:</strong> Original user question</li>
                                    <li><strong>thought_t:</strong> Current reasoning</li>
                                    <li><strong>history_{&lt;t}:</strong> Previous thoughts, actions, observations</li>
                                    <li><strong>available_tools:</strong> Tools the agent can use</li>
                                </ul>
                            </div>
                        </div>

                        <div class="formula-box">
                            <h4>ReAct Termination Condition</h4>
                            
                            <div class="formula-display">
                                \[\text{Terminate if: } \text{action}_t = \text{"Final Answer"} \text{ OR } \text{max\_steps} \text{ reached}\]
                            </div>
                            
                            <div class="formula-explanation">
                                <h5>ReAct loop ends when:</h5>
                                <ul>
                                    <li><strong>Final Answer:</strong> Agent decides it has enough information</li>
                                    <li><strong>max_steps:</strong> Safety limit to prevent infinite loops</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="examples" class="content-section">
                        <h2>Detailed Examples</h2>
                        
                        <div class="example-box">
                            <h4>Example 1: ReAct for Weather Query - Complete Trace</h4>
                            <p><strong>Task: "What's the weather in New York and should I bring an umbrella?"</strong></p>
                            
                            <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9; border-radius: 12px; padding: 2rem; margin: 1.5rem 0;">
                                <h4 style="color: #0c4a6e; margin-bottom: 1.5rem; text-align: center;">Complete ReAct Execution Trace</h4>
                                
                                <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    <div style="margin-bottom: 1.5rem;">
                                        <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 700; color: #92400e; margin: 0 0 0.3rem 0;">üí≠ Thought 1</p>
                                            <p style="color: #92400e; margin: 0; font-size: 0.9rem;">I need to get the weather in New York. I'll use the get_weather tool.</p>
                                        </div>
                                        
                                        <div style="background: #fee2e2; border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 700; color: #991b1b; margin: 0 0 0.3rem 0;">‚ö° Action 1</p>
                                            <p style="color: #991b1b; margin: 0; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">get_weather(city="New York")</p>
                                        </div>
                                        
                                        <div style="background: #dcfce7; border-left: 4px solid #22c55e; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 700; color: #166534; margin: 0 0 0.3rem 0;">üëÅÔ∏è Observation 1</p>
                                            <p style="color: #166534; margin: 0; font-size: 0.9rem;">{"temperature": 72, "condition": "sunny", "rain_probability": 10%}</p>
                                        </div>
                                        
                                        <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 700; color: #92400e; margin: 0 0 0.3rem 0;">üí≠ Thought 2</p>
                                            <p style="color: #92400e; margin: 0; font-size: 0.9rem;">The weather is sunny with only 10% rain probability. I don't need an umbrella. I have all the information to answer.</p>
                                        </div>
                                        
                                        <div style="background: #fee2e2; border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 700; color: #991b1b; margin: 0 0 0.3rem 0;">‚ö° Action 2</p>
                                            <p style="color: #991b1b; margin: 0; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">Final Answer</p>
                                        </div>
                                        
                                        <div style="background: #dcfce7; border-left: 4px solid #22c55e; padding: 1rem; border-radius: 4px;">
                                            <p style="font-weight: 700; color: #166534; margin: 0 0 0.3rem 0;">‚úÖ Final Answer</p>
                                            <p style="color: #166534; margin: 0; font-size: 0.9rem;">The weather in New York is 72¬∞F and sunny with only 10% chance of rain. You don't need an umbrella.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="example-box">
                            <h4>Example 2: ReAct for Multi-Step Research</h4>
                            <p><strong>Task: "Research quantum computing breakthroughs in 2024"</strong></p>
                            
                            <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 2px solid #22c55e; border-radius: 12px; padding: 2rem; margin: 1.5rem 0;">
                                <h4 style="color: #14532d; margin-bottom: 1.5rem; text-align: center;">Multi-Step ReAct Trace</h4>
                                
                                <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: #f3f4f6;">
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Step</th>
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Thought</th>
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Action</th>
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Observation</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #1e40af;">1</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #374151;">Need to search for quantum computing 2024</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #991b1b; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;">search("quantum computing 2024")</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #166534;">Found 5 articles</td>
                                            </tr>
                                            <tr style="background: #f9fafb;">
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #1e40af;">2</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #374151;">Should read articles to extract key points</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #991b1b; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;">read_article(article_1)</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #166534;">Extracted 3 breakthroughs</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #1e40af;">3</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #374151;">Have enough info, can summarize</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #991b1b; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;">Final Answer</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; color: #166534;">Summary generated</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="implementation" class="content-section">
                        <h2>Implementation</h2>
                        
                        <div class="code-box">
                            <h4>ReAct Agent Implementation</h4>
                            <pre><code class="language-python">from typing import Dict, List, Any, Optional
import re
import json

class ReActAgent:
    """ReAct (Reasoning + Acting) Agent Implementation"""
    
    def __init__(self, llm, tools: Dict[str, Any], max_steps: int = 10):
        """
        Initialize ReAct agent
        
        Parameters:
        llm: Language model for reasoning
        tools: Dictionary of available tools
        max_steps: Maximum ReAct loop iterations
        """
        self.llm = llm
        self.tools = tools
        self.max_steps = max_steps
        self.history = []  # Store thought-action-observation history
    
    def format_tools(self) -> str:
        """Format tools for prompt"""
        tool_descriptions = []
        for name, tool in self.tools.items():
            desc = f"- {name}: {tool['description']}"
            if 'parameters' in tool:
                params = ', '.join(tool['parameters'].keys())
                desc += f" (params: {params})"
            tool_descriptions.append(desc)
        return '\n'.join(tool_descriptions)
    
    def extract_action(self, text: str) -> Optional[Dict]:
        """
        Extract action from LLM output
        
        Looks for patterns like:
        - Action: tool_name(params)
        - Action: Final Answer
        """
        # Pattern: Action: tool_name(param="value")
        action_pattern = r'Action:\s*(\w+)\((.*?)\)'
        match = re.search(action_pattern, text)
        
        if match:
            tool_name = match.group(1)
            params_str = match.group(2)
            
            # Parse parameters (simple parsing, in production use proper parser)
            params = {}
            if params_str:
                # Handle key="value" pairs
                param_pattern = r'(\w+)="([^"]+)"'
                for param_match in re.finditer(param_pattern, params_str):
                    key = param_match.group(1)
                    value = param_match.group(2)
                    params[key] = value
            
            return {'type': 'tool', 'tool': tool_name, 'parameters': params}
        
        # Check for Final Answer
        if 'Final Answer' in text or 'final answer' in text.lower():
            return {'type': 'final_answer'}
        
        return None
    
    def execute_action(self, action: Dict) -> Any:
        """Execute an action (tool call)"""
        if action['type'] == 'final_answer':
            return None
        
        tool_name = action['tool']
        if tool_name not in self.tools:
            return f"Error: Tool {tool_name} not found"
        
        tool = self.tools[tool_name]
        func = tool['function']
        params = action['parameters']
        
        try:
            result = func(**params)
            return result
        except Exception as e:
            return f"Error: {str(e)}"
    
    def react_step(self, question: str, step: int) -> Dict:
        """
        Execute one ReAct step
        
        Returns:
        Dict with thought, action, observation, and whether to continue
        """
        # Build prompt with history
        history_text = ""
        for i, entry in enumerate(self.history):
            history_text += f"\nThought {i+1}: {entry['thought']}\n"
            history_text += f"Action {i+1}: {entry['action']}\n"
            history_text += f"Observation {i+1}: {entry['observation']}\n"
        
        tools_text = self.format_tools()
        
        prompt = f"""Question: {question}

Available tools:
{tools_text}

{history_text}

Thought {step+1}: Let me think about what to do next.
Action {step+1}:"""
        
        # Get LLM response
        llm_response = self.llm.generate(prompt)
        
        # Extract thought and action
        thought_match = re.search(r'Thought \d+:\s*(.+?)(?=Action|$)', llm_response, re.DOTALL)
        thought = thought_match.group(1).strip() if thought_match else "Thinking..."
        
        action = self.extract_action(llm_response)
        if not action:
            # Try to extract from full response
            action = {'type': 'final_answer'}
        
        # Execute action
        if action['type'] == 'final_answer':
            observation = "Ready to provide final answer"
            should_continue = False
        else:
            observation = self.execute_action(action)
            should_continue = True
        
        return {
            'thought': thought,
            'action': action,
            'observation': observation,
            'continue': should_continue
        }
    
    def run(self, question: str) -> str:
        """
        Run ReAct agent
        
        Parameters:
        question: User's question
        
        Returns:
        Final answer
        """
        self.history = []
        
        for step in range(self.max_steps):
            # Execute ReAct step
            step_result = self.react_step(question, step)
            
            # Store in history
            self.history.append({
                'thought': step_result['thought'],
                'action': step_result['action'],
                'observation': step_result['observation']
            })
            
            # Check if done
            if not step_result['continue']:
                # Generate final answer
                history_text = ""
                for i, entry in enumerate(self.history):
                    history_text += f"\nThought {i+1}: {entry['thought']}\n"
                    history_text += f"Action {i+1}: {entry['action']}\n"
                    history_text += f"Observation {i+1}: {entry['observation']}\n"
                
                prompt = f"""Question: {question}

{history_text}

Based on the above reasoning and observations, provide the final answer.
Final Answer:"""
                
                final_answer = self.llm.generate(prompt)
                return final_answer.strip()
        
        return "Agent reached maximum steps without completing the task."

# Example usage
def search_web(query: str) -> str:
    """Search the web"""
    # In real implementation, call search API
    return f"Search results for '{query}': Found 10 relevant articles"

def get_weather(city: str) -> str:
    """Get weather"""
    return f"Weather in {city}: 72¬∞F, sunny"

tools = {
    'search_web': {
        'description': 'Search the web for information',
        'function': search_web,
        'parameters': {'query': 'string'}
    },
    'get_weather': {
        'description': 'Get current weather for a city',
        'function': get_weather,
        'parameters': {'city': 'string'}
    }
}

# agent = ReActAgent(llm=my_llm, tools=tools)
# answer = agent.run("What's the weather in New York?")
# print(answer)</code></pre>
                        </div>

                        <div class="code-box">
                            <h4>ReAct Prompt Template</h4>
                            <pre><code class="language-python">REACT_PROMPT_TEMPLATE = """Question: {question}

You can use the following tools:
{tools}

Use the following format:

Thought: [your reasoning about what to do]
Action: [tool_name(param1="value1", param2="value2")]
Observation: [tool result]

Thought: [your reasoning based on observation]
Action: [next tool or Final Answer]
Observation: [tool result or ready for final answer]

... (repeat Thought/Action/Observation as needed)

When you have enough information to answer, use:
Action: Final Answer
Observation: [your final answer]

Final Answer: [your complete answer to the question]"""

def create_react_prompt(question: str, tools: List[Dict]) -> str:
    """Create ReAct prompt"""
    tools_text = format_tools(tools)
    return REACT_PROMPT_TEMPLATE.format(
        question=question,
        tools=tools_text
    )</code></pre>
                        </div>
                    </div>

                    <div id="applications" class="content-section">
                        <h2>Real-World Applications</h2>
                        
                        <div class="explanation-box">
                            <h3>üåç ReAct in Production Systems</h3>
                            <p><strong>ReAct is used in many production agent systems:</strong></p>
                            
                            <div class="example-box">
                                <h4>1. LangChain ReAct Agents</h4>
                                <ul>
                                    <li>LangChain implements ReAct framework</li>
                                    <li>Used in production for customer support, research, automation</li>
                                    <li>Benefits: Transparent reasoning, better error handling</li>
                                </ul>
                            </div>
                            
                            <div class="example-box">
                                <h4>2. Research and Analysis Agents</h4>
                                <ul>
                                    <li>ReAct helps agents reason through complex research tasks</li>
                                    <li>Step-by-step reasoning improves accuracy</li>
                                    <li>Example: Financial analysis agents that research companies</li>
                                </ul>
                            </div>
                            
                            <div class="example-box">
                                <h4>3. Code Generation Agents</h4>
                                <ul>
                                    <li>ReAct helps agents plan code generation</li>
                                    <li>Reason about requirements before writing code</li>
                                    <li>Better code quality through explicit reasoning</li>
                                </ul>
                            </div>
                        </div>

                        <div class="explanation-box">
                            <h3>ReAct Performance Benefits</h3>
                            <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 2px solid #22c55e; border-radius: 12px; padding: 2rem; margin: 1.5rem 0;">
                                <h4 style="color: #14532d; margin-bottom: 1.5rem; text-align: center;">ReAct vs Act-Only Performance</h4>
                                
                                <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: #f3f4f6;">
                                                <th style="padding: 0.8rem; text-align: left; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Metric</th>
                                                <th style="padding: 0.8rem; text-align: center; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">Act-Only</th>
                                                <th style="padding: 0.8rem; text-align: center; border: 1px solid #d1d5db; color: #374151; font-weight: 600;">ReAct</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Task Accuracy</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">~60%</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">~85%</td>
                                            </tr>
                                            <tr style="background: #f9fafb;">
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Error Recovery</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">Poor</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">Good</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Transparency</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">Low</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">High</td>
                                            </tr>
                                            <tr style="background: #f9fafb;">
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; font-weight: 600; color: #374151;">Tool Selection</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #991b1b;">~70% correct</td>
                                                <td style="padding: 0.8rem; border: 1px solid #d1d5db; text-align: center; color: #166534; font-weight: 700;">~90% correct</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="quiz" class="content-section">
                        <h2>Test Your Understanding</h2>
                        
                        <div class="quiz-container">
                            <div class="quiz-question">
                                <h3>Question 1: What are the three components of the ReAct loop?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Thought, Action, Observation</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Input, Process, Output</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Plan, Execute, Review</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Observe, Decide, Act</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 2: What is the key advantage of ReAct over act-only agents?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Explicit reasoning leads to better decisions and transparency</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Faster execution</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Uses less memory</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Simpler implementation</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 3: How does ReAct handle errors?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Agent reasons about the error in next thought and tries alternative approach</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Agent gives up immediately</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Agent ignores errors</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Agent uses random tools</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 4: Interview question: "Explain the ReAct framework and why explicit reasoning helps."</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) ReAct = Reasoning + Acting. Agent explicitly writes thoughts before actions, allowing it to reason about observations, handle errors, and make transparent decisions</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) ReAct is just action without reasoning</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) ReAct only uses reasoning, no actions</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) ReAct is a programming language</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 5: In the ReAct state transition formula, what does the arrow (‚Üí) represent?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) The transition from current state to next state, where observation informs the next thought</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) A mathematical operation</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) A comparison</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) A variable assignment</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 6: What is the termination condition for a ReAct loop?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) When agent outputs "Final Answer" or max_steps limit is reached</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) When first action is taken</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) When an error occurs</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) After exactly 5 steps</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 7: Interview question: "How would you implement a ReAct agent that can handle multi-step reasoning?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Implement Thought-Action-Observation loop with state tracking, maintain history of all steps, use LLM to generate thoughts and actions, execute tools and observe results, continue until Final Answer or max_steps</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Just call LLM once</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Use only one tool</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Skip reasoning</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 8: What makes ReAct different from traditional prompt engineering?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) ReAct explicitly structures reasoning and actions in a loop, allowing iterative refinement and error recovery, while traditional prompts are single-shot</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) ReAct is faster</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) ReAct doesn't use LLMs</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) There's no difference</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 9: In the formula action_t = LLM(question, thought_t, history_{<t}, available_tools), what does history_{<t} represent?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) All previous thoughts, actions, and observations from steps before time t</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Only the last action</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Future steps</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Tool definitions</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 10: Interview question: "How do you prevent a ReAct agent from getting stuck in infinite loops?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Set max_steps limit, detect repeated states/actions, implement timeout, track goal progress, add loop detection in thought generation</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) There's no way to prevent it</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Only allow one step</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Disable reasoning</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 11: What is the advantage of making reasoning explicit in ReAct?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Transparency, debugging, error recovery, and better decision-making through iterative refinement</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) It's faster</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) It uses less tokens</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) It's simpler</div>
                            </div>
                            
                            <div class="quiz-question" style="margin-top: 2rem;">
                                <h3>Question 12: Interview question: "How would you optimize token usage in a ReAct agent?"</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Summarize history instead of full context, use concise thought prompts, limit observation length, implement context window management, cache common reasoning patterns</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Don't use history</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Skip thoughts</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Use shorter tool names</div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>
    </main>

    <footer style="background: #f8f9fa; padding: 2rem 0; margin-top: 3rem; border-top: 2px solid #5B7553;">
        <div class="azbn-container" style="text-align: center;">
            <button onclick="scrollToSectionNav()" class="azbn-btn" style="margin: 0.5rem;">
                ‚Üë Back to Section Navigation
            </button>
            <div style="margin-top: 1.5rem;">
                <a href="/tutorials/agentic-ai" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Back to Tutorial</a>
                <a href="/tutorials/agentic-ai/chapter3" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Chapter 3</a>
                <a href="/tutorials/agentic-ai/chapter5" class="azbn-btn" style="text-decoration: none; margin: 0.5rem;">Chapter 5 ‚Üí</a>
            </div>
        </div>
    </footer>
    
        <!-- KaTeX for math rendering -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='js/tutorials/agentic-ai/shared-tutorial.js') }}"></script>
    <script>
        function scrollToSectionNav() {
            const sectionNav = document.querySelector('.section-nav');
            if (sectionNav) {
                sectionNav.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        function checkAnswer(element, isCorrect) {
            element.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            if (isCorrect) {
                element.classList.add('correct');
                element.textContent += ' ‚úì Correct!';
            } else {
                element.classList.add('incorrect');
                element.textContent += ' ‚úó Incorrect';
                const correctOption = Array.from(element.parentNode.querySelectorAll('.quiz-option'))
                    .find(opt => {
                        const onclick = opt.getAttribute('onclick') || '';
                        return onclick.includes('true');
                    });
                if (correctOption && !correctOption.classList.contains('incorrect')) {
                    correctOption.classList.add('correct');
                    correctOption.textContent += ' ‚úì Correct Answer';
                }
            }
        }
            
// Initialize KaTeX rendering - ensure KaTeX is loaded first
        function initKaTeX() {
            if (typeof katex !== 'undefined' && typeof renderMathInElement !== 'undefined') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "\\[", right: "\\]", display: true},
                        {left: "$", right: "$", display: false},
                        {left: "\\(", right: "\\)", display: false}
                    ],
                    throwOnError: false
                });
            } else {
                // Retry if KaTeX not loaded yet
                setTimeout(initKaTeX, 100);
                return;
            }
            
            // Initialize Prism.js syntax highlighting
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        }
        
        // Wait for DOM and KaTeX to be ready
        if (document.readyState === 'loading') {
            document.addEventListener("DOMContentLoaded", initKaTeX);
        } else {
            // DOM already loaded, wait for KaTeX
            initKaTeX();
            }
            
            // Initialize Prism.js syntax highlighting
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>