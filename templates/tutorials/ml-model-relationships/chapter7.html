<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: XGBoost - The Champion - ML Model Relationships</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/ml-model-relationships/ml-model-relationships.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/nlp/nlp.css') }}">
    <style>
    /* Chapter 7 Specific Styles */
    .champion-header {
        background: linear-gradient(135deg, #FFD700 0%, #FF8C00 50%, #C73E1D 100%);
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
        margin: 2rem 0;
        position: relative;
        overflow: hidden;
        color: white;
    }
    
    .champion-header::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: repeating-linear-gradient(
            45deg,
            rgba(255,255,255,0.1) 0px,
            rgba(255,255,255,0.1) 2px,
            transparent 2px,
            transparent 20px
        );
        animation: shine 3s linear infinite;
    }
    
    @keyframes shine {
        0% { transform: translate(-50%, -50%) rotate(0deg); }
        100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    .champion-header h2 {
        font-size: 2.5em;
        margin-bottom: 10px;
        position: relative;
        z-index: 1;
        color: white !important;
    }
    
    .champion-header p {
        font-size: 1.2em;
        position: relative;
        z-index: 1;
        opacity: 0.9;
        color: white !important;
    }
    
    .trophy-icon {
        font-size: 2em;
        margin-bottom: 15px;
        animation: bounce 2s ease-in-out infinite;
    }
    
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
    }
    
    .xgboost-demo {
        background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);
        border: 2px solid #FF8C00;
        border-radius: 12px;
        padding: 2rem;
        margin: 2rem 0;
        position: relative;
    }
    
    .xgboost-demo::before {
        content: "XGBoost Optimization Playground";
        position: absolute;
        top: -12px;
        left: 20px;
        background: #FF8C00;
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: bold;
    }
    
    .comparison-champion {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
    }
    
    .method-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .method-card.winner {
        border-color: #FFD700;
        background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.1));
        transform: scale(1.02);
    }
    
    .method-card.winner::before {
        content: "👑";
        position: absolute;
        top: -10px;
        right: 15px;
        background: #FFD700;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
    }
    
    .method-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .method-card h4 {
        color: #2c3e50 !important;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .performance-metrics {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 15px 0;
    }
    
    .metric {
        text-align: center;
        padding: 0.75rem;
        background: #f8fafc;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
    }
    
    .metric-value {
        font-size: 1.3rem;
        font-weight: bold;
        color: #C73E1D;
    }
    
    .metric-value.winner {
        color: #FFD700;
    }
    
    .metric-label {
        font-size: 0.8rem;
        color: #64748b;
        margin-top: 5px;
    }
    
    .hyperparameter-playground {
        background: #f8fafc;
        border-radius: 12px;
        padding: 2rem;
        margin: 2rem 0;
    }
    
    .parameter-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
    }
    
    .parameter-control {
        background: white;
        padding: 1rem;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
    }
    
    .parameter-control label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #374151;
    }
    
    .parameter-control input[type="range"] {
        width: 100%;
        margin: 0.5rem 0;
    }
    
    .control-value {
        display: inline-block;
        background: #FF8C00;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.9rem;
        font-weight: bold;
        margin-left: 0.5rem;
    }
    
    .optimization-dashboard {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin: 1.5rem 0;
    }
    
    .dashboard-panel {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .dashboard-panel h4 {
        color: #2c3e50 !important;
        margin-bottom: 1rem;
    }
    
    .feature-importance-viz {
        height: 300px;
        margin: 1.5rem 0;
    }
    
    .real-world-showcase {
        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        border: 2px solid #FF8C00;
        border-radius: 12px;
        padding: 2rem;
        margin: 2rem 0;
    }
    
    .success-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }
    
    .stat-item {
        text-align: center;
        padding: 1rem;
        background: rgba(255,255,255,0.8);
        border-radius: 8px;
        border: 1px solid rgba(255,140,0,0.3);
    }
    
    .stat-value {
        font-size: 1.8rem;
        font-weight: bold;
        color: #C73E1D;
    }
    
    .stat-label {
        font-size: 0.9rem;
        color: #666;
        margin-top: 5px;
    }
    
    .when-to-use {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin: 2rem 0;
    }
    
    .use-case-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .use-case-card.perfect-for {
        border-left: 4px solid #28a745;
    }
    
    .use-case-card.avoid-when {
        border-left: 4px solid #dc3545;
    }
    
    .use-case-card h4 {
        color: #2c3e50 !important;
        margin-bottom: 1rem;
    }
    
    .use-case-card.perfect-for h4 {
        color: #28a745 !important;
    }
    
    .use-case-card.avoid-when h4 {
        color: #dc3545 !important;
    }
    
    @media (max-width: 768px) {
        .comparison-champion {
            grid-template-columns: 1fr;
        }
        
        .optimization-dashboard {
            grid-template-columns: 1fr;
        }
        
        .parameter-grid {
            grid-template-columns: 1fr;
        }
        
        .when-to-use {
            grid-template-columns: 1fr;
        }
        
        .champion-header h2 {
            font-size: 2rem;
        }
    }
</style>
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <header class="azbn-header">
        <nav class="azbn-nav" style="top: 50px;">
            <div class="azbn-container" style="display: flex; justify-content: space-between; align-items: center;">
                <a href="/tutorials/ml-model-relationships" style="text-decoration: none; color: #4f46e5; display: flex; align-items: center; gap: 0.5rem;">
                    <span>ML Model Relationships</span>
                </a>
                <div class="azbn-links">
                    <a href="/">Home</a>
                    <a href="/#about">About</a>
                    <a href="/tutorials/">Tutorials</a>
                    <a href="/#projects">Projects</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
        </nav>
    </header>
        <main style="padding-top: 100px;">
        <!-- Tutorial Header -->
        <div class="nlp-header">
            <h1>Chapter 7: XGBoost - The Champion</h1>
            <p>Master the optimization powerhouse that dominates ML competitions and production systems</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 87.5%;"></div>
            </div>
        </div>

        <!-- Course Navigation -->
        <div class="course-nav">
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter1'">Chapter 1</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter2'">Chapter 2</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter3'">Chapter 3</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter4'">Chapter 4</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter5'">Chapter 5</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter6'">Chapter 6</button>
            <button class="nav-btn active" onclick="window.location.href='/tutorials/ml-model-relationships/chapter7'">Chapter 7</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter8'">Chapter 8</button>
        </div>

        <section class="azbn-section">
            <div class="azbn-container chapter1-container">

            <div class="progress-tracker">
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot"></div>
            </div>

            <div class="section-nav">
                <button class="active" onclick="showSection('overview')">Champion Overview</button>
                <button onclick="showSection('optimization')">Optimization Playground</button>
                <button onclick="showSection('features')">Feature Analysis</button>
                <button onclick="showSection('applications')">Real-world Success</button>
                <button onclick="showSection('quiz')">Quiz</button>
            </div>

            <!-- Champion Overview Section -->
            <div id="overview" class="content-section active">
                <div class="champion-header">
                    <div class="trophy-icon">🏆</div>
                    <h2>XGBoost - The Undisputed Champion</h2>
                    <p>The optimization powerhouse that has won countless ML competitions</p>
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <img src="/static/images/tutorials/ml-model-relationships/chapter7/xgboost-performance.png" 
                         alt="XGBoost performance comparison showing superior accuracy and speed"
                         style="width: 100%; max-width: 800px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
                </div>

                <div class="azbn-card">
                    <h3>Why XGBoost Reigns Supreme</h3>
                    <p>XGBoost (eXtreme Gradient Boosting) isn't just another algorithm—it's a highly optimized, scalable machine learning system that combines the best of gradient boosting with cutting-edge optimizations.</p>
                </div>

                <div class="comparison-champion">
                    <div class="method-card">
                        <h4>🌳 Random Forest</h4>
                        <div class="performance-metrics">
                            <div class="metric">
                                <div class="metric-value">85.2%</div>
                                <div class="metric-label">Accuracy</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">2.3s</div>
                                <div class="metric-label">Train Time</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">Good</div>
                                <div class="metric-label">Interpretability</div>
                            </div>
                        </div>
                        <p>Solid baseline with parallel training and natural feature selection.</p>
                    </div>

                    <div class="method-card">
                        <h4>📈 Gradient Boosting</h4>
                        <div class="performance-metrics">
                            <div class="metric">
                                <div class="metric-value">87.8%</div>
                                <div class="metric-label">Accuracy</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">4.1s</div>
                                <div class="metric-label">Train Time</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value">Fair</div>
                                <div class="metric-label">Interpretability</div>
                            </div>
                        </div>
                        <p>Sequential learning with better accuracy but slower training.</p>
                    </div>

                    <div class="method-card winner">
                        <h4>🚀 XGBoost</h4>
                        <div class="performance-metrics">
                            <div class="metric">
                                <div class="metric-value winner">92.4%</div>
                                <div class="metric-label">Accuracy</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value winner">1.8s</div>
                                <div class="metric-label">Train Time</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value winner">Great</div>
                                <div class="metric-label">Interpretability</div>
                            </div>
                        </div>
                        <p><strong>Best of all worlds:</strong> highest accuracy, fastest training, built-in regularization!</p>
                    </div>
                </div>

                <div class="azbn-card">
                    <h3>XGBoost Secret Weapons</h3>
                    <div class="comparison-champion">
                        <div class="method-card">
                            <h4>🛡️ Built-in Regularization</h4>
                            <p>L1 and L2 regularization prevent overfitting automatically, unlike traditional gradient boosting.</p>
                        </div>
                        <div class="method-card">
                            <h4>⚡ System Optimization</h4>
                            <p>Parallel processing, cache optimization, and sparse matrix handling make it lightning fast.</p>
                        </div>
                        <div class="method-card">
                            <h4>🧠 Smart Tree Building</h4>
                            <p>Level-wise tree construction and advanced pruning find the best splits efficiently.</p>
                        </div>
                        <div class="method-card">
                            <h4>⚖️ Missing Value Handling</h4>
                            <p>Automatically learns optimal directions for missing values during training.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Optimization Playground Section -->
            <div id="optimization" class="content-section">
                <h2>Hyperparameter Optimization Playground</h2>
                <p>Experience the power of XGBoost tuning through interactive parameter adjustment:</p>

                <div class="xgboost-demo">
                    <h4>Interactive XGBoost Tuning</h4>
                    <p>Adjust key hyperparameters and see real-time performance impact:</p>
                    
                    <div class="parameter-grid">
                        <div class="parameter-control">
                            <label for="learning-rate">Learning Rate (eta)</label>
                            <input type="range" id="learning-rate" min="0.01" max="0.5" step="0.01" value="0.1" oninput="updateXGBoostModel()">
                            <span class="control-value" id="lr-value">0.1</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">Controls step size - lower values need more trees but reduce overfitting</div>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="max-depth">Max Depth</label>
                            <input type="range" id="max-depth" min="1" max="15" step="1" value="6" oninput="updateXGBoostModel()">
                            <span class="control-value" id="depth-value">6</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">Tree depth - deeper trees capture interactions but may overfit</div>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="n-estimators">Number of Trees</label>
                            <input type="range" id="n-estimators" min="50" max="1000" step="50" value="100" oninput="updateXGBoostModel()">
                            <span class="control-value" id="trees-value">100</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">More trees improve accuracy but increase training time</div>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="reg-alpha">L1 Regularization (α)</label>
                            <input type="range" id="reg-alpha" min="0" max="10" step="0.1" value="0" oninput="updateXGBoostModel()">
                            <span class="control-value" id="alpha-value">0</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">L1 regularization for feature selection and sparsity</div>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="reg-lambda">L2 Regularization (λ)</label>
                            <input type="range" id="reg-lambda" min="0" max="10" step="0.1" value="1" oninput="updateXGBoostModel()">
                            <span class="control-value" id="lambda-value">1</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">L2 regularization for smoother models</div>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="subsample">Subsample Ratio</label>
                            <input type="range" id="subsample" min="0.5" max="1.0" step="0.05" value="1.0" oninput="updateXGBoostModel()">
                            <span class="control-value" id="subsample-value">1.0</span>
                            <div style="font-size: 0.85rem; color: #666; margin-top: 0.5rem;">Fraction of samples used per tree - lower values prevent overfitting</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin: 1.5rem 0;">
                        <button class="azbn-btn" onclick="runXGBoostTraining()" style="margin-right: 1rem;">
                            ▶️ Run XGBoost Training
                        </button>
                        <button class="azbn-btn azbn-secondary" onclick="resetParameters()">
                            🔄 Reset Parameters
                        </button>
                    </div>
                    
                    <div class="optimization-dashboard">
                        <div class="dashboard-panel">
                            <h4>Training Progress</h4>
                            <canvas id="training-chart" height="200"></canvas>
                        </div>
                        <div class="dashboard-panel">
                            <h4>Performance Metrics</h4>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                                <div class="metric">
                                    <div class="metric-value" id="accuracy-display">92.4%</div>
                                    <div class="metric-label">Validation Accuracy</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" id="time-display">1.8s</div>
                                    <div class="metric-label">Training Time</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" id="overfitting-display">Low</div>
                                    <div class="metric-label">Overfitting Risk</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" id="memory-display">95MB</div>
                                    <div class="metric-label">Memory Usage</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Feature Analysis Section -->
            <div id="features" class="content-section">
                <h2>Feature Importance Analysis</h2>
                <p>XGBoost provides multiple ways to understand which features drive your model's predictions:</p>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button class="azbn-btn azbn-secondary" onclick="showFeatureImportance('gain')" style="margin: 0.25rem;">Gain Importance</button>
                    <button class="azbn-btn azbn-secondary" onclick="showFeatureImportance('split')" style="margin: 0.25rem;">Split Frequency</button>
                    <button class="azbn-btn azbn-secondary" onclick="showFeatureImportance('cover')" style="margin: 0.25rem;">Coverage</button>
                </div>
                
                <div class="feature-importance-viz" style="margin-bottom: 3rem; position: relative; z-index: 1; height: 350px; overflow: hidden;">
                    <canvas id="feature-chart" height="300" style="display: block; margin: 0 auto; max-height: 300px;"></canvas>
                </div>

                <!-- Clear separation -->
                <div style="clear: both; height: 2rem;"></div>

                <div style="text-align: center; margin: 4rem 0; clear: both; position: relative; z-index: 2;">
                    <img src="/static/images/tutorials/ml-model-relationships/chapter7/hyperparameter-tuning.png" 
                         alt="Hyperparameter tuning visualization showing parameter relationships"
                         style="width: 100%; max-width: 700px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); display: block; margin: 0 auto;">
                </div>

                <div class="azbn-card">
                    <h3>Understanding Feature Importance Types</h3>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Gain:</strong> Average improvement in accuracy when using a feature for splits</li>
                        <li><strong>Split Frequency:</strong> How often each feature is used in tree splits</li>
                        <li><strong>Coverage:</strong> Average number of observations affected by splits on this feature</li>
                    </ul>
                </div>
            </div>

            <!-- Real-world Applications Section -->
            <div id="applications" class="content-section">
                <h2>Real-World Success Stories</h2>
                
                <div class="real-world-showcase">
                    <h3>🏆 Kaggle Competition Dominance</h3>
                    <p>XGBoost has powered victories in numerous machine learning competitions:</p>
                    <div class="success-stats">
                        <div class="stat-item">
                            <div class="stat-value">70%</div>
                            <div class="stat-label">of Kaggle wins (2015-2017)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">15x</div>
                            <div class="stat-label">faster than sklearn</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">95%+</div>
                            <div class="stat-label">accuracy on tabular data</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">$1M+</div>
                            <div class="stat-label">in prize money won</div>
                        </div>
                    </div>
                </div>

                <div class="azbn-card">
                    <h3>🏢 Production Applications</h3>
                    <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li><strong>Credit Risk Assessment:</strong> Banks use XGBoost to predict loan defaults with 94%+ accuracy</li>
                        <li><strong>Click-Through Prediction:</strong> Ad platforms optimize billion-dollar campaigns</li>
                        <li><strong>Fraud Detection:</strong> Financial institutions catch fraudulent transactions in real-time</li>
                        <li><strong>Customer Churn:</strong> Telecom companies predict and prevent customer attrition</li>
                        <li><strong>Supply Chain:</strong> E-commerce giants optimize inventory and delivery</li>
                        <li><strong>Healthcare:</strong> Predict patient outcomes and treatment effectiveness</li>
                    </ul>
                </div>

                <div class="when-to-use">
                    <div class="use-case-card perfect-for">
                        <h4>✅ Perfect For XGBoost</h4>
                        <ul style="margin: 1rem 0; padding-left: 1.2rem;">
                            <li>Tabular/structured data problems</li>
                            <li>Medium to large datasets (1K+ samples)</li>
                            <li>Competition or production scenarios</li>
                            <li>When you need interpretability + performance</li>
                            <li>Mixed data types (numerical + categorical)</li>
                            <li>When you have time to tune hyperparameters</li>
                        </ul>
                    </div>
                    
                    <div class="use-case-card avoid-when">
                        <h4>❌ Consider Alternatives</h4>
                        <ul style="margin: 1rem 0; padding-left: 1.2rem;">
                            <li>Image or text data (use deep learning)</li>
                            <li>Very small datasets (<1K samples)</li>
                            <li>Real-time inference with strict latency</li>
                            <li>When simplicity is more important than accuracy</li>
                            <li>Streaming/online learning scenarios</li>
                            <li>When interpretability is more important than performance</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Quiz Section -->
            <div id="quiz" class="content-section">
                <h2>Chapter 7 Quiz</h2>
                <p>Test your understanding of XGBoost optimization:</p>

                <div class="enhanced-quiz-container" data-quiz-id="chapter7-quiz1">
                    <div class="enhanced-quiz-question">
                        <h4>Question 1: What makes XGBoost faster than traditional gradient boosting?</h4>
                    </div>
                    <div class="enhanced-quiz-option" data-correct="true">Parallel processing, cache optimization, and sparse matrix handling</div>
                    <div class="enhanced-quiz-option" data-correct="false">It uses fewer trees than gradient boosting</div>
                    <div class="enhanced-quiz-option" data-correct="false">It only works with numerical features</div>
                    <div class="enhanced-quiz-option" data-correct="false">It doesn't use regularization</div>
                    <div class="enhanced-quiz-explanation">
                        <strong>Correct!</strong> XGBoost's speed comes from parallel processing, cache optimization, and efficient sparse matrix handling.
                    </div>
                </div>

                <div class="enhanced-quiz-container" data-quiz-id="chapter7-quiz2">
                    <div class="enhanced-quiz-question">
                        <h4>Question 2: Which regularization technique is unique to XGBoost?</h4>
                    </div>
                    <div class="enhanced-quiz-option" data-correct="false">L1 regularization (Lasso)</div>
                    <div class="enhanced-quiz-option" data-correct="false">L2 regularization (Ridge)</div>
                    <div class="enhanced-quiz-option" data-correct="true">L1 + L2 regularization with tree-specific penalties</div>
                    <div class="enhanced-quiz-option" data-correct="false">Dropout regularization</div>
                    <div class="enhanced-quiz-explanation">
                        <strong>Correct!</strong> XGBoost uses both L1 and L2 regularization with penalties applied at the tree level.
                    </div>
                </div>

                <div class="enhanced-quiz-container" data-quiz-id="chapter7-quiz3">
                    <div class="enhanced-quiz-question">
                        <h4>Question 3: What is the primary advantage of XGBoost's tree pruning?</h4>
                    </div>
                    <div class="enhanced-quiz-option" data-correct="false">It makes trees grow faster</div>
                    <div class="enhanced-quiz-option" data-correct="true">It prevents overfitting by removing unnecessary splits</div>
                    <div class="enhanced-quiz-option" data-correct="false">It reduces memory usage</div>
                    <div class="enhanced-quiz-option" data-correct="false">It improves feature selection</div>
                    <div class="enhanced-quiz-explanation">
                        <strong>Correct!</strong> Tree pruning removes splits that don't contribute significantly to performance, preventing overfitting.
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="chapter-navigation">
                <a href="{{ url_for('tutorial_dedicated', slug='ml-model-relationships') }}#chapter6" class="btn btn-outline">
                    <i class="fas fa-arrow-left"></i> Previous: Chapter 6
                </a>
                <a href="{{ url_for('tutorial_dedicated', slug='ml-model-relationships') }}#conclusion" class="btn btn-primary">
                    Next: Conclusion <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>
</div>


<script>
// XGBoost Training Functions
function runXGBoostTraining() {
    const button = event.target;
    const originalText = button.innerHTML;
    
    // Show loading state
    button.innerHTML = '🔄 Training...';
    button.disabled = true;
    
    // Simulate training process
    setTimeout(() => {
        // Update metrics
        document.getElementById('accuracy-display').textContent = '94.2%';
        document.getElementById('time-display').textContent = '2.1s';
        document.getElementById('overfitting-display').textContent = 'Low';
        document.getElementById('memory-display').textContent = '98MB';
        
        // Update training chart
        updateTrainingChart();
        
        // Reset button
        button.innerHTML = '✅ Training Complete!';
        setTimeout(() => {
            button.innerHTML = originalText;
            button.disabled = false;
        }, 2000);
    }, 1500);
}

function resetParameters() {
    // Reset all parameter values to defaults
    document.getElementById('learning-rate-value').textContent = '0.1';
    document.getElementById('max-depth-value').textContent = '6';
    document.getElementById('n-estimators-value').textContent = '100';
    document.getElementById('subsample-value').textContent = '1.0';
    
    // Reset metrics to initial values
    document.getElementById('accuracy-display').textContent = '92.4%';
    document.getElementById('time-display').textContent = '1.8s';
    document.getElementById('overfitting-display').textContent = 'Low';
    document.getElementById('memory-display').textContent = '95MB';
    
    // Reset training chart
    resetTrainingChart();
    
    // Show feedback
    const button = event.target;
    const originalText = button.innerHTML;
    button.innerHTML = '✅ Reset Complete!';
    setTimeout(() => {
        button.innerHTML = originalText;
    }, 1000);
}

function showFeatureImportance(type) {
    const ctx = document.getElementById('feature-chart').getContext('2d');
    
    // Destroy existing chart if it exists
    if (window.featureChart) {
        window.featureChart.destroy();
    }
    
    let data, title;
    
    switch(type) {
        case 'gain':
            data = [0.35, 0.25, 0.20, 0.15, 0.05];
            title = 'Gain Importance';
            break;
        case 'split':
            data = [0.30, 0.28, 0.22, 0.15, 0.05];
            title = 'Split Frequency';
            break;
        case 'cover':
            data = [0.40, 0.20, 0.18, 0.17, 0.05];
            title = 'Coverage';
            break;
    }
    
    window.featureChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Income', 'Age', 'Credit Score', 'Education', 'Employment'],
            datasets: [{
                label: title,
                data: data,
                backgroundColor: [
                    'rgba(255, 140, 0, 0.8)',
                    'rgba(255, 215, 0, 0.8)',
                    'rgba(199, 62, 29, 0.8)',
                    'rgba(255, 69, 0, 0.8)',
                    'rgba(255, 165, 0, 0.8)'
                ],
                borderColor: [
                    'rgba(255, 140, 0, 1)',
                    'rgba(255, 215, 0, 1)',
                    'rgba(199, 62, 29, 1)',
                    'rgba(255, 69, 0, 1)',
                    'rgba(255, 165, 0, 1)'
                ],
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 0.5
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: title
                }
            }
        }
    });
}

function updateTrainingChart() {
    const ctx = document.getElementById('training-chart').getContext('2d');
    
    if (window.trainingChart) {
        window.trainingChart.destroy();
    }
    
    window.trainingChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Epoch 1', 'Epoch 2', 'Epoch 3', 'Epoch 4', 'Epoch 5'],
            datasets: [{
                label: 'Training Loss',
                data: [0.45, 0.32, 0.28, 0.25, 0.23],
                borderColor: 'rgba(255, 140, 0, 1)',
                backgroundColor: 'rgba(255, 140, 0, 0.1)',
                tension: 0.4
            }, {
                label: 'Validation Loss',
                data: [0.48, 0.35, 0.30, 0.28, 0.26],
                borderColor: 'rgba(199, 62, 29, 1)',
                backgroundColor: 'rgba(199, 62, 29, 0.1)',
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 0.5
                }
            }
        }
    });
}

function resetTrainingChart() {
    const ctx = document.getElementById('training-chart').getContext('2d');
    
    if (window.trainingChart) {
        window.trainingChart.destroy();
    }
    
    window.trainingChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Epoch 1', 'Epoch 2', 'Epoch 3', 'Epoch 4', 'Epoch 5'],
            datasets: [{
                label: 'Training Loss',
                data: [0.50, 0.38, 0.32, 0.28, 0.26],
                borderColor: 'rgba(255, 140, 0, 1)',
                backgroundColor: 'rgba(255, 140, 0, 0.1)',
                tension: 0.4
            }, {
                label: 'Validation Loss',
                data: [0.52, 0.40, 0.35, 0.32, 0.30],
                borderColor: 'rgba(199, 62, 29, 1)',
                backgroundColor: 'rgba(199, 62, 29, 0.1)',
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 0.6
                }
            }
        }
    });
}



// XGBoost Demo Functionality
document.addEventListener('DOMContentLoaded', function() {
    // Initialize feature importance chart
    showFeatureImportance('gain');
    
    // Initialize training chart
    resetTrainingChart();
    
});
</script>
</body>
</html>