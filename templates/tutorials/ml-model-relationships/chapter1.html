<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1: The ML Landscape Map - ML Model Relationships</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/ml-model-relationships/ml-model-relationships.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/nlp/nlp.css') }}">
    <style>
        /* Chapter 1 Specific Styles */
        .chapter1-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        .hierarchy-visualization {
            text-align: center;
            margin: 2rem 0;
        }
        
        .hierarchy-visualization img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }
        
        .hierarchy-visualization img:hover {
            transform: scale(1.02);
        }
        
        .cooking-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: center;
            margin: 2rem 0;
        }
        
        .cooking-steps {
            background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid #fb923c;
        }
        
        .cooking-steps h4 {
            color: #9a3412 !important;
            margin-bottom: 1rem;
        }
        
        .cooking-step {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            padding: 0.75rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .cooking-step:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .connection-web {
            position: relative;
            margin: 2rem 0;
        }
        
        .connection-node {
            display: inline-block;
            padding: 1rem 1.5rem;
            margin: 0.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .connection-node:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        
        .connection-node.active {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            transform: scale(1.1);
        }
        
        .connection-details {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 2px solid #e9ecef;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .connection-details.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .quiz-section {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .quiz-question {
            margin: 1.5rem 0;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            text-align: left;
        }
        
        .quiz-option:hover {
            background: #fff8e1;
            transform: translateX(10px);
        }
        
        .quiz-option.selected {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .quiz-option.correct {
            background: #e8f5e8 !important;
            border-color: #4caf50 !important;
        }
        
        .quiz-option.incorrect {
            background: #ffebee !important;
            border-color: #f44336 !important;
        }

        /* Enhanced Quiz Styles */
        .enhanced-quiz-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 2px solid #e5e7eb;
        }

        .enhanced-quiz-question h4 {
            color: #1f2937;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .enhanced-quiz-option {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            color: #374151;
        }

        .enhanced-quiz-option:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .enhanced-quiz-option.selected {
            background: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
            font-weight: 600;
        }

        .enhanced-quiz-option.correct {
            background: #dcfce7;
            border-color: #22c55e;
            color: #15803d;
            font-weight: 600;
        }

        .enhanced-quiz-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
            color: #dc2626;
            font-weight: 600;
        }

        .enhanced-quiz-explanation {
            display: none;
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            color: #0c4a6e;
            font-size: 0.95rem;
        }
        
        .progress-tracker {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: background 0.3s ease;
        }
        
        .progress-dot.active {
            background: #667eea;
        }
        
        .progress-dot.completed {
            background: #4caf50;
        }
        
        @media (max-width: 768px) {
            .cooking-demo {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .connection-node {
                display: block;
                margin: 0.25rem 0;
                text-align: center;
            }
            
            .cooking-step {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="azbn-header">
        <nav class="azbn-nav" style="top: 50px;">
            <div class="azbn-container" style="display: flex; justify-content: space-between; align-items: center;">
                <a href="/tutorials/ml-model-relationships" style="text-decoration: none; color: #4f46e5; display: flex; align-items: center; gap: 0.5rem;">
                    <span>ML Model Relationships</span>
                </a>
                <div class="azbn-links">
                    <a href="/">Home</a>
                    <a href="/#about">About</a>
                    <a href="/tutorials/">Tutorials</a>
                    <a href="/#projects">Projects</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main style="padding-top: 100px;">
        <!-- Tutorial Header -->
        <div class="nlp-header">
            <h1>Chapter 1: The ML Landscape Map</h1>
            <p>Understanding the big picture: How machine learning techniques connect and build upon each other</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 12.5%;"></div>
            </div>
        </div>

        <!-- Course Navigation -->
        <div class="course-nav">
            <button class="nav-btn active" onclick="window.location.href='/tutorials/ml-model-relationships/chapter1'">Chapter 1</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter2'">Chapter 2</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter3'">Chapter 3</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter4'">Chapter 4</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter5'">Chapter 5</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter6'">Chapter 6</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter7'">Chapter 7</button>
            <button class="nav-btn" onclick="window.location.href='/tutorials/ml-model-relationships/chapter8'">Chapter 8</button>
        </div>

        <section class="azbn-section">
            <div class="azbn-container chapter1-container">

                <div class="progress-tracker">
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                </div>

                <div class="section-nav">
                    <button class="active" onclick="showSection('overview')">Overview</button>
                    <button onclick="showSection('hierarchy')">ML Hierarchy</button>
                    <button onclick="showSection('cooking')">Cooking Metaphor</button>
                    <button onclick="showSection('connections')">Connections</button>
                    <button onclick="showSection('quiz')">Quiz</button>
                </div>

                <!-- Overview Section -->
                <div id="overview" class="content-section active">
                    <h2>The Big Picture Problem</h2>
                    <p>
                        When you first learn machine learning, it feels like being dropped into a foreign city without a map. 
                        You encounter dozens of algorithms, techniques, and concepts that seem completely unrelated:
                    </p>
                    
                    <div class="azbn-card">
                        <h3>The Confusion You're Experiencing</h3>
                        <ul>
                            <li><strong>Linear Regression</strong> - Simple line fitting</li>
                            <li><strong>L1/L2 Regularization</strong> - Mysterious penalty terms</li>
                            <li><strong>Decision Trees</strong> - Rule-based splitting</li>
                            <li><strong>Random Forest</strong> - Voting trees?</li>
                            <li><strong>XGBoost</strong> - The "champion" algorithm</li>
                            <li><strong>Bagging vs Boosting</strong> - What's the difference?</li>
                        </ul>
                        <p><em>How do these all fit together? When do you use what?</em></p>
                    </div>

                    <h3>Our Solution: The ML Roadmap</h3>
                    <p>
                        This tutorial provides the roadmap you've been missing. Instead of learning algorithms in isolation, 
                        you'll understand their relationships, when each technique was invented to solve specific problems, 
                        and how they build upon each other.
                    </p>

                    <div class="interactive-demo">
                        <h4>Quick Self-Assessment</h4>
                        <p>Rate your current understanding (1-5 scale):</p>
                        
                        <div style="margin: 1rem 0;">
                            <label>Linear Models and Regularization:</label>
                            <input type="range" id="linear-understanding" min="1" max="5" value="3" oninput="updateAssessment()">
                            <span id="linear-value">3</span>/5
                        </div>
                        
                        <div style="margin: 1rem 0;">
                            <label>Ensemble Methods (Bagging/Boosting):</label>
                            <input type="range" id="ensemble-understanding" min="1" max="5" value="2" oninput="updateAssessment()">
                            <span id="ensemble-value">2</span>/5
                        </div>
                        
                        <div style="margin: 1rem 0;">
                            <label>Algorithm Selection and Relationships:</label>
                            <input type="range" id="selection-understanding" min="1" max="5" value="2" oninput="updateAssessment()">
                            <span id="selection-value">2</span>/5
                        </div>
                        
                        <button onclick="generateRecommendations()" class="azbn-btn">Get Personalized Learning Path</button>
                        <div id="assessment-results" style="margin-top: 1rem; display: none;"></div>
                    </div>
                </div>

                <!-- ML Hierarchy Section -->
                <div id="hierarchy" class="content-section">
                    <h2>The ML Technique Hierarchy</h2>
                    <p>
                        Machine learning techniques follow a natural progression. Each level solves problems 
                        created by the previous level:
                    </p>

                    <div class="hierarchy-visualization">
                        <img src="/static/images/tutorials/ml-model-relationships/chapter1/ml-hierarchy-tree.png" 
                             alt="Interactive hierarchy showing progression from basic ML models to ensemble methods"
                             onclick="explainHierarchy()">
                        <p><em>Click the image to explore each level interactively</em></p>
                    </div>

                    <div class="azbn-grid">
                        <div class="azbn-card">
                            <h3>Level 1: Basic Models</h3>
                            <p><strong>Linear Regression & Decision Trees</strong></p>
                            <p>Simple, interpretable algorithms that form the foundation of ML.</p>
                            <p><strong>Problem:</strong> They overfit to training data</p>
                        </div>

                        <div class="azbn-card">
                            <h3>Level 2: Problem Solvers</h3>
                            <p><strong>L1/L2 Regularization</strong></p>
                            <p>Techniques that prevent overfitting by adding penalty terms.</p>
                            <p><strong>Problem:</strong> Single models still have limitations</p>
                        </div>

                        <div class="azbn-card">
                            <h3>Level 3: Ensemble Methods</h3>
                            <p><strong>Bagging & Boosting</strong></p>
                            <p>Combine multiple models to improve performance.</p>
                            <p><strong>Evolution:</strong> Random Forest, Gradient Boosting</p>
                        </div>

                        <div class="azbn-card">
                            <h3>Level 4: Advanced Implementations</h3>
                            <p><strong>XGBoost & Modern Variants</strong></p>
                            <p>Optimized implementations with superior performance.</p>
                            <p><strong>Result:</strong> State-of-the-art predictive models</p>
                        </div>
                    </div>

                    <div id="hierarchy-explanation" style="display: none;">
                        <div class="interactive-demo">
                            <h4>Interactive Hierarchy Explorer</h4>
                            <p>Click on each level to see how problems lead to solutions:</p>
                            
                            <div style="text-align: center; margin: 2rem 0;">
                                <button class="connection-node" onclick="showLevelDetails(1)">Basic Models</button>
                                <div style="margin: 1rem 0;">↓</div>
                                <button class="connection-node" onclick="showLevelDetails(2)">Regularization</button>
                                <div style="margin: 1rem 0;">↓</div>
                                <button class="connection-node" onclick="showLevelDetails(3)">Ensemble Methods</button>
                                <div style="margin: 1rem 0;">↓</div>
                                <button class="connection-node" onclick="showLevelDetails(4)">Advanced</button>
                            </div>
                            
                            <div id="level-details"></div>
                        </div>
                    </div>
                </div>

                <!-- Cooking Metaphor Section -->
                <div id="cooking" class="content-section">
                    <h2>The Cooking Metaphor</h2>
                    <p>
                        Think of machine learning like cooking. This analogy will help you understand 
                        the relationships between different techniques:
                    </p>

                    <div class="cooking-demo">
                        <div>
                            <img src="/static/images/tutorials/ml-model-relationships/chapter1/cooking-metaphor.png" 
                                 alt="Cooking metaphor illustration showing ingredients as data, methods as algorithms, and seasoning as regularization"
                                 style="width: 100%; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
                        </div>
                        
                        <div class="cooking-steps">
                            <h4>The ML Cooking Process</h4>
                            
                            <div class="cooking-step" onclick="highlightStep(1)">
                                <div class="step-icon">1</div>
                                <div>
                                    <strong>Raw Ingredients = Your Data</strong><br>
                                    Features, labels, observations - the foundation of everything
                                </div>
                            </div>
                            
                            <div class="cooking-step" onclick="highlightStep(2)">
                                <div class="step-icon">2</div>
                                <div>
                                    <strong>Cooking Method = Algorithm</strong><br>
                                    Linear regression, decision trees - how you process the data
                                </div>
                            </div>
                            
                            <div class="cooking-step" onclick="highlightStep(3)">
                                <div class="step-icon">3</div>
                                <div>
                                    <strong>Seasoning = Regularization</strong><br>
                                    L1/L2 penalties - fine-tune the flavor and prevent "oversalting"
                                </div>
                            </div>
                            
                            <div class="cooking-step" onclick="highlightStep(4)">
                                <div class="step-icon">4</div>
                                <div>
                                    <strong>Team Cooking = Ensemble Methods</strong><br>
                                    Multiple chefs (models) collaborate for the perfect dish
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="interactive-demo">
                        <h4>Build Your ML Recipe</h4>
                        <p>Select ingredients to see what ML techniques you'll need:</p>
                        
                        <div style="margin: 1rem 0;">
                            <label><input type="checkbox" onchange="updateRecipe()"> Noisy data</label><br>
                            <label><input type="checkbox" onchange="updateRecipe()"> Many features</label><br>
                            <label><input type="checkbox" onchange="updateRecipe()"> Complex patterns</label><br>
                            <label><input type="checkbox" onchange="updateRecipe()"> Need high accuracy</label><br>
                            <label><input type="checkbox" onchange="updateRecipe()"> Must be interpretable</label>
                        </div>
                        
                        <div id="recipe-recommendation" style="background: #f0f8f0; padding: 1rem; border-radius: 8px; margin: 1rem 0; display: none;">
                            <h5>Recommended ML Recipe:</h5>
                            <div id="recipe-details"></div>
                        </div>
                    </div>

                    <div id="step-details" class="connection-details">
                        <h4 id="step-title">Click a step to learn more</h4>
                        <div id="step-description"></div>
                    </div>
                </div>

                <!-- Connections Section -->
                <div id="connections" class="content-section">
                    <h2>The Connection Web</h2>
                    <p>
                        ML techniques don't exist in isolation. They form a web of relationships where 
                        each technique builds on others:
                    </p>

                    <div style="text-align: center; margin: 2rem 0;">
                        <img src="/static/images/tutorials/ml-model-relationships/chapter1/connection-web.png" 
                             alt="Network diagram showing connections between different ML techniques and their relationships"
                             style="width: 100%; max-width: 600px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
                    </div>

                    <div class="connection-web">
                        <h3>Explore the Connections</h3>
                        <p>Click on any technique to see its relationships:</p>
                        
                        <div style="text-align: center; margin: 2rem 0;">
                            <span class="connection-node" onclick="showConnections('linear')">Linear Models</span>
                            <span class="connection-node" onclick="showConnections('trees')">Decision Trees</span>
                            <span class="connection-node" onclick="showConnections('regularization')">Regularization</span>
                            <span class="connection-node" onclick="showConnections('bagging')">Bagging</span>
                            <span class="connection-node" onclick="showConnections('boosting')">Boosting</span>
                            <span class="connection-node" onclick="showConnections('rf')">Random Forest</span>
                            <span class="connection-node" onclick="showConnections('xgboost')">XGBoost</span>
                        </div>
                        
                        <div id="connection-linear" class="connection-details">
                            <h4>Linear Models</h4>
                            <p><strong>Connects to:</strong> L1/L2 Regularization, Ensemble Methods</p>
                            <p><strong>Relationship:</strong> Forms the base learner in many ensemble methods. Regularization was invented to solve linear model overfitting.</p>
                            <p><strong>Evolution:</strong> Linear → Regularized Linear → Linear in Ensembles</p>
                        </div>
                        
                        <div id="connection-trees" class="connection-details">
                            <h4>Decision Trees</h4>
                            <p><strong>Connects to:</strong> Random Forest, Gradient Boosting, XGBoost</p>
                            <p><strong>Relationship:</strong> The building block of most ensemble methods. Trees are combined through bagging or boosting.</p>
                            <p><strong>Evolution:</strong> Single Tree → Forest of Trees → Optimized Tree Ensembles</p>
                        </div>
                        
                        <div id="connection-regularization" class="connection-details">
                            <h4>Regularization</h4>
                            <p><strong>Connects to:</strong> All models (Linear, Trees, Ensembles)</p>
                            <p><strong>Relationship:</strong> Universal technique to prevent overfitting. Applied differently across algorithm families.</p>
                            <p><strong>Forms:</strong> L1/L2 for Linear, Pruning for Trees, Early Stopping for Boosting</p>
                        </div>
                        
                        <div id="connection-bagging" class="connection-details">
                            <h4>Bagging</h4>
                            <p><strong>Connects to:</strong> Decision Trees (Random Forest), Any base algorithm</p>
                            <p><strong>Relationship:</strong> Trains multiple models on different data samples, then averages predictions.</p>
                            <p><strong>Key Innovation:</strong> Reduces variance through model averaging</p>
                        </div>
                        
                        <div id="connection-boosting" class="connection-details">
                            <h4>Boosting</h4>
                            <p><strong>Connects to:</strong> Weak learners (usually Trees), XGBoost evolution</p>
                            <p><strong>Relationship:</strong> Sequential training where each model fixes previous model errors.</p>
                            <p><strong>Key Innovation:</strong> Reduces bias through iterative error correction</p>
                        </div>
                        
                        <div id="connection-rf" class="connection-details">
                            <h4>Random Forest</h4>
                            <p><strong>Connects to:</strong> Decision Trees + Bagging + Feature Randomness</p>
                            <p><strong>Relationship:</strong> Combines tree power with bagging stability and feature selection.</p>
                            <p><strong>Innovation:</strong> Added random feature selection to reduce tree correlation</p>
                        </div>
                        
                        <div id="connection-xgboost" class="connection-details">
                            <h4>XGBoost</h4>
                            <p><strong>Connects to:</strong> Gradient Boosting + Optimization + Regularization</p>
                            <p><strong>Relationship:</strong> Optimized implementation of boosting with advanced regularization.</p>
                            <p><strong>Innovation:</strong> Mathematical optimization + Systems engineering + Built-in regularization</p>
                        </div>
                    </div>
                </div>

                <!-- Quiz Section -->
                <div id="quiz" class="content-section">
                    <h2>Chapter 1 Quiz</h2>
                    <p>Test your understanding of ML technique relationships:</p>

                    <div class="enhanced-quiz-container" data-quiz-id="chapter1-quiz1">
                        <div class="enhanced-quiz-question">
                            <h4>Question 1: What is the main relationship between regularization and basic models?</h4>
                        </div>
                        <div class="enhanced-quiz-option" data-correct="false">Regularization makes models more complex</div>
                        <div class="enhanced-quiz-option" data-correct="true">Regularization prevents overfitting in basic models</div>
                        <div class="enhanced-quiz-option" data-correct="false">Regularization replaces basic models entirely</div>
                        <div class="enhanced-quiz-option" data-correct="false">There is no relationship</div>
                        <div class="enhanced-quiz-explanation">
                            <strong>Correct!</strong> Regularization was specifically developed to solve the overfitting problem that basic models like linear regression and decision trees suffer from.
                        </div>
                    </div>

                    <div class="enhanced-quiz-container" data-quiz-id="chapter1-quiz2">
                        <div class="enhanced-quiz-question">
                            <h4>Question 2: In the cooking metaphor, what do ensemble methods represent?</h4>
                        </div>
                        <div class="enhanced-quiz-option" data-correct="false">Different ingredients</div>
                        <div class="enhanced-quiz-option" data-correct="false">Cooking temperature</div>
                        <div class="enhanced-quiz-option" data-correct="true">Multiple chefs working together</div>
                        <div class="enhanced-quiz-option" data-correct="false">Kitchen tools</div>
                        <div class="enhanced-quiz-explanation">
                            <strong>Exactly!</strong> Ensemble methods are like having multiple chefs (models) collaborate to create the best possible dish (prediction).
                        </div>
                    </div>

                    <div class="enhanced-quiz-container" data-quiz-id="chapter1-quiz3">
                        <div class="enhanced-quiz-question">
                            <h4>Question 3: What's the key difference between bagging and boosting?</h4>
                        </div>
                        <div class="enhanced-quiz-option" data-correct="true">Bagging trains models in parallel, boosting trains sequentially</div>
                        <div class="enhanced-quiz-option" data-correct="false">Bagging is faster than boosting</div>
                        <div class="enhanced-quiz-option" data-correct="false">Boosting only works with decision trees</div>
                        <div class="enhanced-quiz-option" data-correct="false">They are the same technique</div>
                        <div class="enhanced-quiz-explanation">
                            <strong>Perfect!</strong> This is the fundamental difference: bagging creates independent models simultaneously, while boosting builds models sequentially, with each one learning from the previous model's mistakes.
                        </div>
                    </div>
                </div>


            </div>
        </section>
    </main>

    <script>
        let quizAnswers = {};
        let currentStep = 1;
        
        // Section Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionName).classList.add('active');
            
            document.querySelectorAll('.section-nav button').forEach(button => {
                button.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Assessment functionality
        function updateAssessment() {
            document.getElementById('linear-value').textContent = document.getElementById('linear-understanding').value;
            document.getElementById('ensemble-value').textContent = document.getElementById('ensemble-understanding').value;
            document.getElementById('selection-value').textContent = document.getElementById('selection-understanding').value;
        }

        function generateRecommendations() {
            const linear = parseInt(document.getElementById('linear-understanding').value);
            const ensemble = parseInt(document.getElementById('ensemble-understanding').value);
            const selection = parseInt(document.getElementById('selection-understanding').value);
            
            const results = document.getElementById('assessment-results');
            results.style.display = 'block';
            
            let recommendations = '<h5>Your Personalized Learning Path:</h5>';
            
            if (linear <= 2) {
                recommendations += '<p><strong>Priority 1:</strong> Focus on Chapters 2-3 (Foundation Models & Regularization)</p>';
            }
            if (ensemble <= 2) {
                recommendations += '<p><strong>Priority 2:</strong> Spend extra time on Chapters 4-6 (Ensemble Methods)</p>';
            }
            if (selection <= 2) {
                recommendations += '<p><strong>Priority 3:</strong> Chapter 8 (Integration) will be crucial for you</p>';
            }
            if (linear >= 4 && ensemble >= 4) {
                recommendations += '<p><strong>Advanced Path:</strong> You can move quickly to Chapters 7-8</p>';
            }
            
            results.innerHTML = recommendations;
        }

        // Hierarchy exploration
        function explainHierarchy() {
            document.getElementById('hierarchy-explanation').style.display = 'block';
        }

        function showLevelDetails(level) {
            document.querySelectorAll('.connection-node').forEach(node => node.classList.remove('active'));
            event.target.classList.add('active');
            
            const details = document.getElementById('level-details');
            const content = {
                1: '<h4>Level 1: Basic Models</h4><p><strong>Problem:</strong> Need simple, interpretable algorithms</p><p><strong>Solution:</strong> Linear Regression, Decision Trees</p><p><strong>New Problem Created:</strong> These models overfit to training data</p>',
                2: '<h4>Level 2: Regularization</h4><p><strong>Problem:</strong> Basic models overfit</p><p><strong>Solution:</strong> Add penalty terms (L1/L2) to control complexity</p><p><strong>New Problem Created:</strong> Single models still have limitations</p>',
                3: '<h4>Level 3: Ensemble Methods</h4><p><strong>Problem:</strong> Single models are limited</p><p><strong>Solution:</strong> Combine multiple models (Bagging/Boosting)</p><p><strong>New Problem Created:</strong> Need efficient implementations</p>',
                4: '<h4>Level 4: Advanced Implementations</h4><p><strong>Problem:</strong> Ensemble methods need optimization</p><p><strong>Solution:</strong> XGBoost, LightGBM - optimized implementations</p><p><strong>Result:</strong> State-of-the-art performance</p>'
            };
            
            details.innerHTML = content[level];
        }

        // Cooking metaphor interactions
        function highlightStep(stepNumber) {
            document.querySelectorAll('.cooking-step').forEach(step => step.style.background = 'white');
            event.target.closest('.cooking-step').style.background = '#e3f2fd';
            
            const stepDetails = document.getElementById('step-details');
            stepDetails.classList.add('active');
            
            const details = {
                1: {
                    title: 'Raw Ingredients = Your Data',
                    description: 'Just like cooking starts with quality ingredients, ML starts with quality data. Poor data = poor results, no matter how sophisticated your algorithm.'
                },
                2: {
                    title: 'Cooking Method = Algorithm',
                    description: 'Different algorithms are like different cooking methods. Grilling (Linear Regression) is simple and fast. Slow cooking (Deep Learning) takes time but handles complex recipes.'
                },
                3: {
                    title: 'Seasoning = Regularization',
                    description: 'Too little seasoning and the dish is bland (underfitting). Too much and it overwhelms (overfitting). Regularization helps you find the perfect balance.'
                },
                4: {
                    title: 'Team Cooking = Ensemble Methods',
                    description: 'Multiple chefs bring different strengths. One might be great at appetizers (one model type), another at desserts (another model type). Together they create something amazing.'
                }
            };
            
            document.getElementById('step-title').textContent = details[stepNumber].title;
            document.getElementById('step-description').textContent = details[stepNumber].description;
        }

        function updateRecipe() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const selected = Array.from(checkboxes).filter(cb => cb.checked).map(cb => cb.nextSibling.textContent.trim());
            
            const recommendation = document.getElementById('recipe-recommendation');
            const details = document.getElementById('recipe-details');
            
            if (selected.length === 0) {
                recommendation.style.display = 'none';
                return;
            }
            
            recommendation.style.display = 'block';
            
            let recipe = '';
            if (selected.includes('Noisy data')) recipe += '<p>🧂 <strong>Add regularization</strong> (L1/L2) to handle noise</p>';
            if (selected.includes('Many features')) recipe += '<p>🔪 <strong>Feature selection</strong> with L1 regularization</p>';
            if (selected.includes('Complex patterns')) recipe += '<p>🌳 <strong>Decision trees</strong> or ensemble methods</p>';
            if (selected.includes('Need high accuracy')) recipe += '<p>👥 <strong>Ensemble methods</strong> (Random Forest, XGBoost)</p>';
            if (selected.includes('Must be interpretable')) recipe += '<p>📊 <strong>Linear models</strong> or single decision trees</p>';
            
            details.innerHTML = recipe;
        }

        // Connection web interactions
        function showConnections(technique) {
            document.querySelectorAll('.connection-details').forEach(detail => detail.classList.remove('active'));
            document.querySelectorAll('.connection-node').forEach(node => node.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById('connection-' + technique).classList.add('active');
        }

        // Enhanced Quiz functionality
        function selectQuizOption(optionElement) {
            const quizContainer = optionElement.closest('.enhanced-quiz-container');
            const options = quizContainer.querySelectorAll('.enhanced-quiz-option');
            const explanation = quizContainer.querySelector('.enhanced-quiz-explanation');
            
            // Remove previous selections
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark selected option
            optionElement.classList.add('selected');
            
            // Check if correct
            const isCorrect = optionElement.getAttribute('data-correct') === 'true';
            
            if (isCorrect) {
                optionElement.classList.add('correct');
                explanation.style.display = 'block';
            } else {
                optionElement.classList.add('incorrect');
                // Show correct answer
                const correctOption = quizContainer.querySelector('.enhanced-quiz-option[data-correct="true"]');
                if (correctOption) {
                    correctOption.classList.add('correct');
                }
                explanation.style.display = 'block';
            }
        }

        // Initialize enhanced quiz system
        function initializeEnhancedQuiz() {
            document.querySelectorAll('.enhanced-quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    selectQuizOption(this);
                });
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set up section navigation
            const sections = ['overview', 'hierarchy', 'cooking', 'connections', 'quiz'];
            sections.forEach((section, index) => {
                if (index === 0) return; // Skip first section (already active)
                document.getElementById(section).style.display = 'none';
            });
            
            // Initialize enhanced quiz system
            initializeEnhancedQuiz();
        });
    </script>
</body>
</html>