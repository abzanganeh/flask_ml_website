<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 9: Complete Transformer Architecture - Transformer Architecture Deep Dive</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorials/transformers/transformers.css') }}">
</head>
<body>
    <header class="azbn-header">
        <nav class="azbn-nav">
            <div class="azbn-container">
                <a href="/tutorials/transformers" class="course-link">
                    <span>Transformer Architecture Deep Dive</span>
                </a>
                <div class="azbn-links">
                    <a href="/">Home</a>
                    <a href="/#about">About</a>
                    <a href="/tutorials/">Tutorials</a>
                    <a href="/#projects">Projects</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div class="tutorial-header">
            <div class="azbn-container">
                <h1 class="chapter-title">Chapter 9: Complete Transformer Architecture</h1>
                <p class="chapter-subtitle">Putting It All Together</p>
                
                <div class="chapter-progress">
                    <div class="chapter-progress-fill" data-progress="90"></div>
                </div>
                
                <div class="chapter-navigation">
                    <a href="/tutorials/transformers/chapter1" class="chapter-nav-btn ">Chapter 1</a>
                    <a href="/tutorials/transformers/chapter2" class="chapter-nav-btn ">Chapter 2</a>
                    <a href="/tutorials/transformers/chapter3" class="chapter-nav-btn ">Chapter 3</a>
                    <a href="/tutorials/transformers/chapter4" class="chapter-nav-btn ">Chapter 4</a>
                    <a href="/tutorials/transformers/chapter5" class="chapter-nav-btn ">Chapter 5</a>
                    <a href="/tutorials/transformers/chapter6" class="chapter-nav-btn ">Chapter 6</a>
                    <a href="/tutorials/transformers/chapter7" class="chapter-nav-btn ">Chapter 7</a>
                    <a href="/tutorials/transformers/chapter8" class="chapter-nav-btn ">Chapter 8</a>
                    <a href="/tutorials/transformers/chapter9" class="chapter-nav-btn active">Chapter 9</a>
                    <a href="/tutorials/transformers/chapter10" class="chapter-nav-btn ">Chapter 10</a>
                </div>
                
                <div class="section-progress">
                    <div class="section-progress-fill" data-progress="14.3"></div>
                </div>
                
                <div class="section-nav">
                    <button class="section-nav-btn azbn-btn active" data-section="overview">Overview</button>
                    <button class="section-nav-btn azbn-btn" data-section="concepts">Key Concepts</button>
                    <button class="section-nav-btn azbn-btn" data-section="formulas">Formulas</button>
                    <button class="section-nav-btn azbn-btn" data-section="examples">Examples</button>
                    <button class="section-nav-btn azbn-btn" data-section="implementation">Implementation</button>
                    <button class="section-nav-btn azbn-btn" data-section="applications">Applications</button>
                    <button class="section-nav-btn azbn-btn" data-section="quiz">Quiz</button>
                </div>
            </div>
        </div>

        <section class="azbn-section">
            <div class="azbn-container">
                <div class="learning-objectives-box">
                    <h2>Learning Objectives</h2>
                    <ul>
                        <li>Understand complete transformer architecture fundamentals</li>
                        <li>Master the mathematical foundations</li>
                        <li>Learn practical implementation</li>
                        <li>Apply knowledge through examples</li>
                        <li>Recognize real-world applications</li>
                    </ul>
                </div>

                <main class="chapter-main-content">
                    <div id="overview" class="content-section active">
                        <h2>Complete Transformer Architecture</h2>
                        
                        <div class="explanation-box">
                            <h3>üéØ The Complete Picture</h3>
                            <p><strong>The Transformer combines all components we've learned: embeddings, positional encoding, multi-head attention, FFN, residuals, and layer normalization into a powerful architecture.</strong></p>
                            
                            <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9; border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                                <h4 style="color: #0c4a6e; margin-bottom: 1.5rem; text-align: center;">üèóÔ∏è Complete Transformer Architecture Diagram</h4>
                                
                                <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    <!-- Input Layer -->
                                    <div style="text-align: center; margin-bottom: 1.5rem;">
                                        <div style="background: #dbeafe; border: 2px solid #3b82f6; border-radius: 8px; padding: 1rem; display: inline-block; min-width: 200px;">
                                            <p style="font-weight: 700; color: #1e40af; margin: 0;">Input Tokens</p>
                                            <p style="font-size: 0.9rem; color: #1e40af; margin: 0.3rem 0 0 0;">["The", "cat", "sat"]</p>
                                        </div>
                                    </div>
                                    
                                    <div style="text-align: center; margin: 1rem 0;">
                                        <div style="font-size: 1.5rem; color: #0ea5e9; font-weight: bold;">‚Üì</div>
                                    </div>
                                    
                                    <!-- Embeddings -->
                                    <div style="text-align: center; margin-bottom: 1.5rem;">
                                        <div style="background: #fef3c7; border: 2px solid #f59e0b; border-radius: 8px; padding: 1rem; display: inline-block; min-width: 200px;">
                                            <p style="font-weight: 700; color: #92400e; margin: 0;">Token Embeddings</p>
                                            <p style="font-size: 0.85rem; color: #92400e; margin: 0.3rem 0 0 0;">+ Positional Encoding</p>
                                        </div>
                                    </div>
                                    
                                    <div style="text-align: center; margin: 1rem 0;">
                                        <div style="font-size: 1.5rem; color: #0ea5e9; font-weight: bold;">‚Üì</div>
                                    </div>
                                    
                                    <!-- Encoder Stack -->
                                    <div style="background: #dcfce7; border: 2px solid #22c55e; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem;">
                                        <p style="font-weight: 700; color: #166534; margin: 0 0 1rem 0; text-align: center;">Encoder Stack (N layers)</p>
                                        
                                        <div style="background: white; border-radius: 6px; padding: 1rem; margin-bottom: 0.5rem;">
                                            <p style="font-weight: 600; color: #14532d; margin: 0 0 0.5rem 0; font-size: 0.9rem;">Encoder Layer 1:</p>
                                            <div style="display: flex; justify-content: space-around; gap: 0.5rem; flex-wrap: wrap;">
                                                <div style="flex: 1; min-width: 120px; background: #f0f9ff; padding: 0.5rem; border-radius: 4px; text-align: center;">
                                                    <p style="font-size: 0.8rem; color: #0c4a6e; margin: 0; font-weight: 600;">Multi-Head<br>Attention</p>
                                                </div>
                                                <div style="flex: 1; min-width: 120px; background: #fef3c7; padding: 0.5rem; border-radius: 4px; text-align: center;">
                                                    <p style="font-size: 0.8rem; color: #92400e; margin: 0; font-weight: 600;">Feed-Forward<br>Network</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div style="text-align: center; margin: 0.5rem 0;">
                                            <p style="font-size: 0.8rem; color: #166534; margin: 0;">... (N-2 more layers) ...</p>
                                        </div>
                                        
                                        <div style="background: white; border-radius: 6px; padding: 1rem;">
                                            <p style="font-weight: 600; color: #14532d; margin: 0 0 0.5rem 0; font-size: 0.9rem;">Encoder Layer N:</p>
                                            <div style="display: flex; justify-content: space-around; gap: 0.5rem; flex-wrap: wrap;">
                                                <div style="flex: 1; min-width: 120px; background: #f0f9ff; padding: 0.5rem; border-radius: 4px; text-align: center;">
                                                    <p style="font-size: 0.8rem; color: #0c4a6e; margin: 0; font-weight: 600;">Multi-Head<br>Attention</p>
                                                </div>
                                                <div style="flex: 1; min-width: 120px; background: #fef3c7; padding: 0.5rem; border-radius: 4px; text-align: center;">
                                                    <p style="font-size: 0.8rem; color: #92400e; margin: 0; font-weight: 600;">Feed-Forward<br>Network</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div style="text-align: center; margin: 1rem 0;">
                                        <div style="font-size: 1.5rem; color: #0ea5e9; font-weight: bold;">‚Üì</div>
                                    </div>
                                    
                                    <!-- Output -->
                                    <div style="text-align: center;">
                                        <div style="background: #dcfce7; border: 2px solid #22c55e; border-radius: 8px; padding: 1rem; display: inline-block; min-width: 200px;">
                                            <p style="font-weight: 700; color: #166534; margin: 0;">Output Representations</p>
                                            <p style="font-size: 0.9rem; color: #166534; margin: 0.3rem 0 0 0;">Rich, contextualized</p>
                                        </div>
                                    </div>
                                    
                                    <div style="background: #f0f9ff; border-left: 4px solid #0ea5e9; padding: 1rem; margin-top: 1.5rem; border-radius: 4px;">
                                        <p style="margin: 0; color: #0c4a6e; font-size: 0.9rem;"><strong>üí° Key Components:</strong> Each encoder layer has Multi-Head Attention + FFN, both with residual connections and layer normalization. The stack processes input through N layers, building increasingly rich representations!</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="explanation-box">
                            <h4>üîÑ Information Flow Through Transformer</h4>
                            <p><strong>Complete data flow:</strong></p>
                            <ol>
                                <li><strong>Input:</strong> Tokenized text ‚Üí ["The", "cat", "sat"]</li>
                                <li><strong>Embeddings:</strong> Each token ‚Üí dense vector (512 dimensions)</li>
                                <li><strong>Positional Encoding:</strong> Add position information</li>
                                <li><strong>Encoder Layer 1:</strong> Multi-head attention + FFN ‚Üí Refined representations</li>
                                <li><strong>Encoder Layer 2-N:</strong> Further refinement through each layer</li>
                                <li><strong>Output:</strong> Rich, contextualized representations ready for tasks</li>
                            </ol>
                        </div>
                    </div>

                    <div id="concepts" class="content-section">
                        <h2>Key Concepts</h2>
                        
                        <div class="explanation-box">
                            <h3>üîë Fundamental Ideas</h3>
                            <p>Detailed explanation of key concepts will be provided here with analogies, step-by-step breakdowns, and visual explanations.</p>
                        </div>
                    </div>

                    <div id="formulas" class="content-section">
                        <h2>Mathematical Formulations</h2>
                        
                        <div class="formula-box">
                            <h4>Key Formulas</h4>
                            <div class="formula-display">
                                <strong>Formulas will be detailed here</strong>
                            </div>
                            <div class="formula-explanation">
                                <p>Step-by-step formula breakdowns with explanations.</p>
                            </div>
                        </div>
                    </div>

                    <div id="examples" class="content-section">
                        <h2>Detailed Examples</h2>
                        
                        <div class="example-box">
                            <h4>üî¢ Step-by-Step Examples</h4>
                            <p>Comprehensive examples with detailed explanations will be provided here.</p>
                        </div>
                    </div>

                    <div id="implementation" class="content-section">
                        <h2>Implementation</h2>
                        
                        <div class="code-box">
                            <h4>üíª Code Implementation</h4>
                            <pre><code>import numpy as np

# Comprehensive implementation code will be provided here
# With detailed comments and explanations</code></pre>
                        </div>
                    </div>

                    <div id="applications" class="content-section">
                        <h2>Real-World Applications</h2>
                        
                        <div class="explanation-box">
                            <h3>üåç Where This Is Used</h3>
                            <p>Real-world applications and use cases will be detailed here.</p>
                        </div>
                    </div>

                    <div id="quiz" class="content-section">
                        <h2>Test Your Understanding</h2>
                        
                        <div class="quiz-container">
                            <div class="quiz-question">
                                <h3>Question 1: What is the main concept covered in this chapter?</h3>
                                <div class="quiz-option" onclick="checkAnswer(this, true)">A) Complete Transformer Architecture</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">B) Related concept</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">C) Different topic</div>
                                <div class="quiz-option" onclick="checkAnswer(this, false)">D) Unrelated topic</div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>
    </main>

    <footer style="background: #f8f9fa; padding: 2rem 0; margin-top: 3rem; border-top: 2px solid #5B7553;">
        <div class="azbn-container" style="text-align: center;">
            <button onclick="scrollToSectionNav()" class="azbn-btn" style="margin: 0.5rem;">
                ‚Üë Back to Section Navigation
            </button>
            <div style="margin-top: 1.5rem;">
                <a href="/tutorials/transformers" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Back to Tutorial</a>
                <a href="/tutorials/transformers/chapter8" class="azbn-btn azbn-secondary" style="text-decoration: none; margin: 0.5rem;">‚Üê Chapter 8</a>
                <a href="/tutorials/transformers/chapter10" class="azbn-btn" style="text-decoration: none; margin: 0.5rem;">Chapter 10 ‚Üí</a>
            </div>
        </div>
    </footer>
    
    <script src="{{ url_for('static', filename='js/tutorials/transformers/shared-tutorial.js') }}"></script>
    <script>
        function scrollToSectionNav() {
            const sectionNav = document.querySelector('.section-nav');
            if (sectionNav) {
                sectionNav.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        function checkAnswer(element, isCorrect) {
            element.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            if (isCorrect) {
                element.classList.add('correct');
                element.textContent += ' ‚úì Correct!';
            } else {
                element.classList.add('incorrect');
                element.textContent += ' ‚úó Incorrect';
                const correctOption = Array.from(element.parentNode.querySelectorAll('.quiz-option'))
                    .find(opt => {
                        const onclick = opt.getAttribute('onclick') || '';
                        return onclick.includes('true');
                    });
                if (correctOption && !correctOption.classList.contains('incorrect')) {
                    correctOption.classList.add('correct');
                    correctOption.textContent += ' ‚úì Correct Answer';
                }
            }
        }
    </script>
</body>
</html>